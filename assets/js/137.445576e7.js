(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{1348:function(s,t,a){s.exports=a.p+"assets/img/img088.fe944458.png"},1349:function(s,t,a){s.exports=a.p+"assets/img/img089.2cb6666b.png"},1350:function(s,t,a){s.exports=a.p+"assets/img/img090.06019a62.png"},1351:function(s,t,a){s.exports=a.p+"assets/img/img091.63b2aecf.png"},2285:function(s,t,a){"use strict";a.r(t);var e=a(54),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#_1、提出问题"}},[s._v("1、提出问题")])]),e("li",[e("a",{attrs:{href:"#_2、解决方案"}},[s._v("2、解决方案")]),e("ul",[e("li",[e("a",{attrs:{href:"#_1前台、后台运行"}},[s._v("①前台、后台运行")])]),e("li",[e("a",{attrs:{href:"#_2不挂断运行"}},[s._v("②不挂断运行")])])])])])]),e("p"),s._v(" "),e("h1",{attrs:{id:"第四节-辅助命令-nohup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四节-辅助命令-nohup"}},[s._v("#")]),s._v(" 第四节 辅助命令：nohup")]),s._v(" "),e("h2",{attrs:{id:"_1、提出问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、提出问题"}},[s._v("#")]),s._v(" 1、提出问题")]),s._v(" "),e("p",[s._v("我们把一个 SpringBoot 工程导出为 jar 包，jar 包上传到阿里云 ECS 服务器上，使用 java -jar xxx-xxx.jar 命令启动这个 SpringBoot 程序。此时我们本地的 xshell 客户端必须一直开着，一旦 xshell 客户端关闭，java -jar xxx-xxx.jar 进程就会被结束，SpringBoot 程序就访问不了了。")]),s._v(" "),e("p",[s._v("所以我们希望启动 SpringBoot 的 jar 包之后，对应的进程可以一直运行，不会因为 xshell 客户端关闭而被结束。")]),s._v(" "),e("p",[e("img",{attrs:{src:a(1348),alt:"./images"}})]),s._v(" "),e("h2",{attrs:{id:"_2、解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、解决方案"}},[s._v("#")]),s._v(" 2、解决方案")]),s._v(" "),e("h3",{attrs:{id:"_1前台、后台运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1前台、后台运行"}},[s._v("#")]),s._v(" ①前台、后台运行")]),s._v(" "),e("p",[s._v("默认情况下 Linux 命令都是前台运行的，前台运行的特点是前面命令不执行完，命令行就一直被前面的命令占用，不能再输入、执行新的命令。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello before sleep"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello after sleep"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("前台（默认情况）运行上面脚本的效果是：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(1349),alt:"./images"}})]),s._v(" "),e("p",[s._v("后台运行上面脚本的效果是：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(1350),alt:"./images"}})]),s._v(" "),e("p",[s._v("但是以后台方式运行并不能解决前面提出的问题：我们的 shell 客户端（例如：xshell）和服务器断开连接后，SpringBoot 进程会随之结束，这显然不满足我们部署运行项目的初衷。")]),s._v(" "),e("h3",{attrs:{id:"_2不挂断运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2不挂断运行"}},[s._v("#")]),s._v(" ②不挂断运行")]),s._v(" "),e("p",[s._v("所谓“不挂断”就是指客户端断开连接后，命令启动的进程仍然运行。nohup 命令就是 ”no hang up“ 的缩写。使用nohup 命令启动 SpringBoot 微服务工程的完整写法是：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" java -jar spring-boot-demo.jar"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("springboot.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:a(1351),alt:"./images"}})]),s._v(" "),e("p",[e("RouterLink",{attrs:{to:"/pro006-Linux/lecture/chapter03/verse04-06-curl.html"}},[s._v("上一条")]),s._v(" "),e("RouterLink",{attrs:{to:"/pro006-Linux/lecture/chapter03/verse04-00-index.html"}},[s._v("回目录")]),s._v(" "),e("RouterLink",{attrs:{to:"/pro006-Linux/lecture/chapter03/verse04-08-wget.html"}},[s._v("下一条")])],1)])}),[],!1,null,null,null);t.default=r.exports}}]);