(window.webpackJsonp=window.webpackJsonp||[]).push([[314],{1595:function(s,a,t){s.exports=t.p+"assets/img/img003.ce2502e0.png"},2382:function(s,a,t){"use strict";t.r(a);var n=t(54),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#_1、类加载器"}},[s._v("1、类加载器")])]),n("li",[n("a",{attrs:{href:"#_2、说明"}},[s._v("2、说明")])]),n("li",[n("a",{attrs:{href:"#_3、代码测试"}},[s._v("3、代码测试")])])])]),n("p"),s._v(" "),n("h1",{attrs:{id:"第一节-类加载器分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一节-类加载器分类"}},[s._v("#")]),s._v(" 第一节 类加载器分类")]),s._v(" "),n("h2",{attrs:{id:"_1、类加载器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、类加载器"}},[s._v("#")]),s._v(" 1、类加载器")]),s._v(" "),n("p",[s._v("类加载器（英文：ClassLoader）负责加载 *.class 字节码文件，*.class 字节码文件在文件开头有特定的文件标识。ClassLoader 只负责 *.class 字节码文件的加载，至于它是否可以运行，则由 Execution Engine 决定。")]),s._v(" "),n("p",[n("img",{attrs:{src:t(1595),alt:"images"}})]),s._v(" "),n("h2",{attrs:{id:"_2、说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、说明"}},[s._v("#")]),s._v(" 2、说明")]),s._v(" "),n("p",[s._v("JVM 中类加载器分为四种：前三种为虚拟机自带的加载器。")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("启动类加载器（Bootstrap）：使用 C++ 语言编写的类加载器，在Java环境下看不到")]),s._v(" "),n("p",[s._v("负责加载 $JAVA_HOME/jre/lib/"),n("span",{staticStyle:{color:"blue","font-weight":"bold"}},[s._v("rt.jar")]),s._v(" 里所有的 class。由 C++ 实现，不是 ClassLoader 子类")])]),s._v(" "),n("li",[n("p",[s._v("扩展类加载器（Extension）：sun.misc.Launcher.ExtClassLoader")]),s._v(" "),n("p",[s._v("负责加载 Java 平台中"),n("span",{staticStyle:{color:"blue","font-weight":"bold"}},[s._v("扩展功能")]),s._v("的一些 jar 包，包括 $JAVA_HOME/jre/lib/*.jar 或 -Djava.ext.dirs 参数指定目录下的 jar 包、以及 $JAVA_HOME/jre/lib/ext/classes 目录下的 class。")])]),s._v(" "),n("li",[n("p",[s._v("应用类加载器（AppClassLoader）：sun.misc.Launcher.AppClassLoader")]),s._v(" "),n("p",[s._v("也叫系统类加载器，负责加载"),n("span",{staticStyle:{color:"blue","font-weight":"bold"}},[s._v("classpath")]),s._v("中指定的 jar 包及目录中的 class")])]),s._v(" "),n("li",[n("p",[s._v("自定义类加载器：程序员自己开发一个类继承 java.lang.ClassLoader，定制类加载方式")])])]),s._v(" "),n("p",[s._v("父子关系1：启动类加载器是扩展类加载器的父加载器")]),s._v(" "),n("p",[s._v("父子关系2：扩展类加载器是应用类加载器的父加载器")]),s._v(" "),n("h2",{attrs:{id:"_3、代码测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、代码测试"}},[s._v("#")]),s._v(" 3、代码测试")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1.获取Person类的Class对象")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2.通过Class对象进一步获取它的类加载器对象")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" appClassLoader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3.获取appClassLoader的全类名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" appClassLoaderName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" appClassLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4.打印appClassLoader的全类名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sun.misc.Launcher$AppClassLoader")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appClassLoaderName = "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" appClassLoaderName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 5.通过appClassLoader获取扩展类加载器（父加载器）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" extClassLoader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" appClassLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 6.获取extClassLoader的全类名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" extClassLoaderName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" extClassLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 7.打印extClassLoader的全类名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sun.misc.Launcher$ExtClassLoader")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extClassLoaderName = "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" extClassLoaderName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 8.通过extClassLoader获取启动类加载器（父加载器）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" bootClassLoader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" extClassLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 9.由于启动类加载器是C语言开发的，在Java代码中无法实例化对象，所以只能返回null值")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bootClassLoader = "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" bootClassLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[n("RouterLink",{attrs:{to:"/pro016-JVM/lecture/chapter02/index.html"}},[s._v("回目录")]),s._v(" "),n("RouterLink",{attrs:{to:"/pro016-JVM/lecture/chapter02/verse02.html"}},[s._v("下一节")])],1)])}),[],!1,null,null,null);a.default=e.exports}}]);