(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{1710:function(t,_,v){t.exports=v.p+"assets/img/img008.9bf77b6c.png"},2431:function(t,_,v){"use strict";v.r(_);var r=v(54),a=Object(r.a)({},(function(){var t=this,_=t.$createElement,r=t._self._c||_;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#_1、相同点"}},[t._v("1、相同点")])]),r("li",[r("a",{attrs:{href:"#_2、不同点"}},[t._v("2、不同点")])]),r("li",[r("a",{attrs:{href:"#_3、使用建议"}},[t._v("3、使用建议")]),r("ul",[r("li",[r("a",{attrs:{href:"#_1从功能效果的角度来看"}},[t._v("①从功能效果的角度来看")])]),r("li",[r("a",{attrs:{href:"#_2从开发便捷性的角度来看"}},[t._v("②从开发便捷性的角度来看")])]),r("li",[r("a",{attrs:{href:"#_3从性能角度"}},[t._v("③从性能角度")])]),r("li",[r("a",{attrs:{href:"#_4使用建议"}},[t._v("④使用建议")])])])])])]),r("p"),t._v(" "),r("h1",{attrs:{id:"第六节-lock-与-synchronized-对比"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第六节-lock-与-synchronized-对比"}},[t._v("#")]),t._v(" 第六节 Lock 与 synchronized 对比")]),t._v(" "),r("h2",{attrs:{id:"_1、相同点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1、相同点"}},[t._v("#")]),t._v(" 1、相同点")]),t._v(" "),r("ul",[r("li",[t._v("都支持独占锁")]),t._v(" "),r("li",[t._v("都支持可重入")])]),t._v(" "),r("h2",{attrs:{id:"_2、不同点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2、不同点"}},[t._v("#")]),t._v(" 2、不同点")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th"),t._v(" "),r("th",[t._v("Lock 系列 API 用法")]),t._v(" "),r("th",[t._v("synchronized 用法")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("加锁/解锁")]),t._v(" "),r("td",[t._v("手动")]),t._v(" "),r("td",[t._v("自动")])]),t._v(" "),r("tr",[r("td",[t._v("支持共享锁")]),t._v(" "),r("td",[t._v("√")]),t._v(" "),r("td",[t._v("×")])]),t._v(" "),r("tr",[r("td",[t._v("支持尝试获取锁失败"),r("br"),t._v("后执行特定操作")]),t._v(" "),r("td",[t._v("√")]),t._v(" "),r("td",[t._v("×")])]),t._v(" "),r("tr",[r("td",[t._v("灵活")]),t._v(" "),r("td",[t._v("√")]),t._v(" "),r("td",[t._v("×")])]),t._v(" "),r("tr",[r("td",[t._v("便捷")]),t._v(" "),r("td",[t._v("×")]),t._v(" "),r("td",[t._v("√")])]),t._v(" "),r("tr",[r("td",[t._v("响应中断")]),t._v(" "),r("td",[t._v("lockInterruptibly()"),r("br"),t._v("方式支持阻塞状态响应中断")]),t._v(" "),r("td",[t._v("sleep()"),r("br"),t._v("睡眠后支持响应中断")])]),t._v(" "),r("tr",[r("td",[t._v("代码风格")]),t._v(" "),r("td",[t._v("面向对象")]),t._v(" "),r("td",[t._v("面向过程")])]),t._v(" "),r("tr",[r("td",[t._v("底层机制")]),t._v(" "),r("td",[t._v("AQS（volatile + CAS + 线程的双向链表）= 非阻塞同步")]),t._v(" "),r("td",[t._v("阻塞同步")])])])]),t._v(" "),r("h2",{attrs:{id:"_3、使用建议"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3、使用建议"}},[t._v("#")]),t._v(" 3、使用建议")]),t._v(" "),r("h3",{attrs:{id:"_1从功能效果的角度来看"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1从功能效果的角度来看"}},[t._v("#")]),t._v(" ①从功能效果的角度来看")]),t._v(" "),r("p",[t._v("Lock 能够覆盖 synchronized 的功能，而且功能更强大。")]),t._v(" "),r("p",[r("img",{attrs:{src:v(1710),alt:"images"}})]),t._v(" "),r("h3",{attrs:{id:"_2从开发便捷性的角度来看"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2从开发便捷性的角度来看"}},[t._v("#")]),t._v(" ②从开发便捷性的角度来看")]),t._v(" "),r("ul",[r("li",[t._v("synchronized：自动加锁、解锁，使用方便")]),t._v(" "),r("li",[t._v("Lock：手动加锁、解锁，使用不那么方便")])]),t._v(" "),r("h3",{attrs:{id:"_3从性能角度"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3从性能角度"}},[t._v("#")]),t._v(" ③从性能角度")]),t._v(" "),r("p",[t._v("二者差不多。")]),t._v(" "),r("h3",{attrs:{id:"_4使用建议"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4使用建议"}},[t._v("#")]),t._v(" ④使用建议")]),t._v(" "),r("p",[t._v("synchronized 够用，那就使用 synchronized；如果需要额外附加功能则使用 Lock：")]),t._v(" "),r("ul",[r("li",[t._v("公平锁")]),t._v(" "),r("li",[t._v("共享锁")]),t._v(" "),r("li",[t._v("尝试获取锁")]),t._v(" "),r("li",[t._v("以支持响应中断的方式获取锁")]),t._v(" "),r("li",[t._v("……")])]),t._v(" "),r("p",[r("RouterLink",{attrs:{to:"/pro017-JUC/lecture/chapter03/verse05.html"}},[t._v("上一节")]),t._v(" "),r("RouterLink",{attrs:{to:"/pro017-JUC/lecture/chapter03/index.html"}},[t._v("回目录")])],1)])}),[],!1,null,null,null);_.default=a.exports}}]);