<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>分布式事务 | 代码重工</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="代码重工">
    
    <link rel="preload" href="/code_heavy_industry/assets/css/0.styles.f7de6701.css" as="style"><link rel="preload" href="/code_heavy_industry/assets/js/app.972bd0f0.js" as="script"><link rel="preload" href="/code_heavy_industry/assets/js/4.904e76b5.js" as="script"><link rel="preload" href="/code_heavy_industry/assets/js/8.e2571ee7.js" as="script"><link rel="prefetch" href="/code_heavy_industry/assets/js/1.d66e04b2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/10.7093d550.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/100.384331b2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/101.582f78e7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/102.17f2c0ec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/103.a530857d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/104.62821ce1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/105.11cdcc82.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/106.d57c1e75.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/107.7ebeb306.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/108.c067b47b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/109.9495d2ca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/11.acc2935e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/110.7f58dbd3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/111.f78239ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/112.8eb72445.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/113.3f5aff71.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/114.9f65cf57.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/115.dcaea004.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/116.726c5aac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/117.54d6c26a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/118.3f4e0bda.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/119.95ed5dc6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/12.a5354f50.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/120.4fd08fac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/121.f4aadbe5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/122.d588a1e0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/123.781e7192.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/124.ed312291.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/125.bceffbb9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/126.51bf552f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/127.4800687b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/128.fcdd6f2a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/129.2a25d78a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/13.88a0c565.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/130.dcfe7623.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/131.c29e7c45.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/132.9a412a4b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/133.615218d5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/134.2168ca5a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/135.a5e262ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/136.7dba5235.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/137.445576e7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/138.577b3f66.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/139.b646f1ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/14.36391765.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/140.52abf81e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/141.807c626b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/142.adf9e127.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/143.9773d979.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/144.5658ae76.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/145.2d2fb13b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/146.0e322019.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/147.50b34ac1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/148.463aab7c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/149.9bd7c539.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/15.4a8e9d28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/150.9449ca28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/151.1961c6db.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/152.18709656.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/153.a4bf78f6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/154.6c90b1d5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/155.024247e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/156.76281b57.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/157.a7c02212.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/158.0d00acef.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/159.9180c937.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/16.87793b5d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/160.d7a98288.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/161.389ddf84.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/162.ab22d7dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/163.087257c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/164.addfc5af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/165.f90e6b2a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/166.fa06e4b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/167.a00e722b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/168.e3855223.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/169.e0c63a4e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/17.dec86310.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/170.7c5835f4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/171.7d9ae110.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/172.4da5caea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/173.f8ac6155.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/174.3b831765.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/175.01782f3d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/176.6eab6644.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/177.86339767.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/178.c437c804.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/179.927227c9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/18.9167733d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/180.caa2c660.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/181.c186b8ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/182.0475844f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/183.2c5950c8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/184.82b336f6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/185.e2d4a46e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/186.99a3de8a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/187.d557500c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/188.e81bd251.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/189.d07d368a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/19.017b4ad0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/190.173606ea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/191.c5ac0c71.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/192.127d6d93.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/193.2f9011c9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/194.14f534a3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/195.65939036.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/196.6e3cf025.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/197.4d18b1d7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/198.c2e521c3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/199.d72c63dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/20.6aa686d0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/200.56d7dbd3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/201.c72a395d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/202.cb32f7af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/203.285e6b92.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/204.ead50027.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/205.190c1baf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/206.4dab4ba0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/207.f11eee48.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/208.e2f8ca82.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/209.e7e74aff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/21.f7d66fe8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/210.69c4a0ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/211.a1ab5062.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/212.6d0473bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/213.bd120419.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/214.c7d4362c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/215.8adc34dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/216.abf8ff23.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/217.10f9fc46.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/218.52e31fec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/219.ea0551af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/22.b1de9b18.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/220.6be520c8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/221.c0d93576.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/222.1bb0eaff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/223.8492b065.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/224.5897434e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/225.51902428.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/226.9da70eee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/227.9e113839.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/228.d689b27d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/229.28f74090.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/23.e3b58d3d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/230.465a35a0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/231.219aeb63.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/232.84035c50.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/233.ef27424d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/234.5dcf1349.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/235.bcc0c537.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/236.9bb64465.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/237.f3300514.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/238.ca7af9ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/239.fdfe2127.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/24.2e010582.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/240.8a4488af.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/241.9987dfab.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/242.819ed984.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/243.bf129ecd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/244.030b4b49.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/245.7663f620.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/246.ed2b2fc0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/247.54dd84f1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/248.a1c69038.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/249.47dd7b3b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/25.a5f2f737.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/250.ec8017a5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/251.89ab0cf7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/252.5ec1eea4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/253.31a37280.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/254.fcfabb55.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/255.286f4c17.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/256.ce77595b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/257.cb3677c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/258.ca18e0e9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/259.65dc8492.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/26.cce346fc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/260.475ddaba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/261.643b784a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/262.e5092c67.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/263.5e85d32e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/264.6ff4b789.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/265.fee7416a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/266.8d8a5e44.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/267.8c62a655.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/268.762073ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/269.ffe69921.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/27.22790cda.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/270.d5bf783f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/271.83fd2f70.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/272.6de67fa9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/273.628e1b77.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/274.7f0d82c6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/275.d4478098.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/276.56649e5b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/277.05b881f2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/278.c079de28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/279.58101972.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/28.ac0ba3fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/280.5e32c770.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/281.59fb6cf4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/282.f22da512.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/283.db103d63.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/284.a373c7e0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/285.55c6f720.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/286.f924c38c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/287.52a35525.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/288.dcc32270.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/289.835ad2b5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/29.6e1dc238.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/290.749e38a9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/291.90916822.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/292.b453b275.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/293.11ad0754.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/294.dddc45b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/295.74ecca38.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/296.2061efa6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/297.b838fcd5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/298.8c08be1f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/299.5a99490b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/3.9ca9fb75.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/30.64f9cad0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/300.a5010762.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/301.a2f8795a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/302.129bdff3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/303.57268b2c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/304.5556b94f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/305.72bbf9b8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/306.821163a7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/307.b85ceac7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/308.7f794216.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/309.212b7a1d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/31.386297cc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/310.089b4a08.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/311.c7f6aabd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/312.810271c0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/313.030424f0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/314.a95451b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/315.f883b88e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/316.676ed945.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/317.0dcbeaef.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/318.bd172af6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/319.e2d01ca1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/32.8927ba28.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/320.09b01482.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/321.3b70dce2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/322.5f7046ad.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/323.ffd56783.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/324.cfe0b188.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/325.cc2f1112.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/326.635a861b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/327.94eacc0e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/328.7d4790fb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/329.38f7ef56.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/33.bd1f28e6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/330.269edfe2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/331.21623a36.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/332.1f1c659c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/333.fe34384d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/334.34a514a7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/335.9272b0cc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/336.796dcaf9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/337.bfd29430.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/338.fdb020fd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/339.d7f19890.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/34.36a2460a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/340.b22b3f52.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/341.47e1d3f4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/342.38ca17d1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/343.2e7874e5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/344.6697aea1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/345.ad3be23a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/346.d40fa749.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/347.881934aa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/348.2e8d29b9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/349.87f51cb4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/35.80f36815.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/350.06081b68.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/351.f883c9ae.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/352.8fcd0728.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/353.2dd787b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/354.689db664.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/355.b9a083ea.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/356.3eaa4bf3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/357.2f05ac11.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/358.c6777610.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/359.2ae0c8ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/36.f9bba134.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/360.c9811603.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/361.5c3068d4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/362.a80ddcc6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/363.ccbb8d6e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/364.8da5de40.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/365.0d9f6c8a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/366.e410e582.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/367.f8689b17.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/368.57119763.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/369.f92c7aed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/37.8935c848.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/370.8e896c3a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/371.e2565759.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/372.0028b0ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/373.82bfe997.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/374.434f814f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/375.8478c681.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/376.998ce2de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/377.670e9be5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/378.c9cfc01b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/379.0aacc719.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/38.86fba1a7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/380.14a91411.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/381.9e783c93.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/382.cf2ffc03.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/383.c32b0740.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/384.4280025f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/385.a816d541.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/386.1d8fc395.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/387.bc22626f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/388.1cf59352.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/389.a09795bf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/39.c8c0ff8e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/390.6a223692.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/391.733d45f0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/392.d76fd3df.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/393.c885df90.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/394.c344d389.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/395.687cbd0a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/396.57e0df54.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/397.1a31ad36.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/398.59535325.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/399.0a11557f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/40.c0f7e504.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/400.7b2afabb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/401.4b72ea6e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/402.b94737bf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/403.a838c189.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/404.9a221abc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/405.f8f3b954.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/406.2de8752c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/407.eb35a188.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/408.47acaedf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/409.aa2afaca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/41.e7e858c4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/410.722e5009.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/411.2dbe321f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/412.39ed2d1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/413.a088f973.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/414.87f8d239.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/415.f90a1394.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/416.ea4ba38d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/417.8a1c9676.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/418.79315748.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/419.1e3ddf12.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/42.8202bb44.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/420.b6d9e0cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/421.0c74ef64.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/422.94c20620.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/423.fa0d6946.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/424.9036ac4f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/425.8d8e82da.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/426.03b7da89.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/427.e3c8c690.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/428.96fdfdce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/429.a8863be5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/43.55e30ded.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/430.305aa090.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/431.e02d3725.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/432.83fa148f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/433.1f01715d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/434.f3354ec6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/435.245644ed.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/436.3c933a14.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/437.b62325fb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/438.8e122783.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/439.e95fa7e6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/44.e5c90e7a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/440.5c168090.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/441.f8835ac7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/442.cf1de5dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/443.50ec8b3c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/444.1600e74f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/445.795f336d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/446.1fb71b0f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/447.0136df19.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/448.abf11aa4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/449.4f99bee8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/45.89368cde.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/450.55da381a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/451.97a68e8d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/452.9dd8c55e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/453.3167da0d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/454.18fad993.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/455.24cbebda.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/456.a2f19b40.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/457.27f4fb5a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/458.29941084.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/459.b0cc6f89.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/46.1f553681.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/460.86ef4965.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/461.c0b0f695.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/462.8b86c3a9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/463.79aadbb4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/464.9735f749.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/465.4bdede2b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/466.ef630311.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/467.8664e027.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/468.89b3d4ff.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/469.74e0af2c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/47.5f78034c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/470.9643f84e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/471.e3a1e16a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/472.116791e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/473.3bb6cb3d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/474.1a7a0724.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/475.76c29d71.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/476.fe1fd93a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/477.e3f203de.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/478.b34f8b1c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/479.06d48874.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/48.0c8a5846.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/480.ffc77ad4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/481.2475d5aa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/482.5da370b4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/483.2531f6c1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/484.3f8b3ccf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/485.fb51e0ee.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/486.881d8443.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/487.36a959cb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/488.086e154c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/489.2afd2906.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/49.40a46041.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/490.a517239f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/491.c1f416dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/492.e36de27b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/493.af28d057.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/494.00509c64.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/495.8ed86db6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/496.412e9f2d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/497.ed9f0eeb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/498.2112afec.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/499.743df60a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/5.6f1dbbc3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/50.54de97a0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/500.ab62befa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/501.0d54ba9a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/502.2f3bf836.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/503.c3473b0e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/504.cb511490.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/505.a2cc8bdc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/506.f8ea663a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/507.9cc67e94.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/508.e08708a1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/509.437502c3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/51.af5d6a98.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/510.f5e8a583.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/511.6fe511a5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/512.459d2d68.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/513.a5f4a768.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/514.5fd44c68.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/515.c046ffb4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/516.a972f386.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/517.7c804920.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/518.ff4a2545.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/519.b1a8d590.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/52.b766b60a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/520.2d34cada.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/521.f14247fe.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/522.38b72172.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/523.203fa4ac.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/524.236cda03.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/525.8caaad18.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/526.9a217f1e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/527.06dc5a4f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/528.fa884c79.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/529.d39c75ca.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/53.eae65ff7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/530.65b18758.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/531.85af388d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/532.9d3f253a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/533.77c2fa0b.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/534.924b0eb2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/535.5854a4b0.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/536.8b57b538.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/537.ccb7ba0f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/538.b9c6c631.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/539.63164d8a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/54.9b89b352.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/540.7e721167.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/541.0cd3f048.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/542.6c5df759.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/543.e1eebdf2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/544.a3042061.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/545.1a468f89.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/546.892c1841.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/547.c6b5ef7e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/548.19d884b6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/549.7c34a773.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/55.b8a1964e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/550.25f7d121.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/551.b9f92580.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/552.bf452147.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/553.4815ac56.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/554.c253ebb4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/555.4dbef2bf.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/556.69f1a9f4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/557.679e8f40.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/558.9515c7f8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/559.eb17cff7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/56.88fa6666.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/560.0de96a04.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/561.cdf49465.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/562.2e895986.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/563.40a31d36.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/564.08f15bf2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/565.e7625c6a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/566.71ee556d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/567.7b3e4bc8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/568.1a3c07dc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/569.4c496338.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/57.519e80e3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/570.d152813e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/571.e46946bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/572.ae215a0d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/573.da7b2e6c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/574.f068c09e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/575.f2a128db.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/576.caf5cd68.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/577.b6c04041.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/578.a7707d73.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/579.ed17d056.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/58.963c2309.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/580.88a2ce36.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/581.f99a65fa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/582.220ce66c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/583.5d42e8cc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/584.0737b3ce.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/585.516b187d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/586.420c42c4.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/587.e3deb3dd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/588.c9bfc1e3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/589.ee0f90f3.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/59.d9b10f83.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/590.ea859bba.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/591.4b9781fd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/592.c9da8cab.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/6.064acd80.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/60.7e89993c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/61.f2039f26.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/62.474d18a7.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/63.3a64d334.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/64.4a3787c2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/65.120ee13f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/66.e7ff207d.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/67.55a68541.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/68.33f8c7cd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/69.69d65c56.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/7.ce2273f5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/70.93a544a5.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/71.6eb8d306.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/72.8cbae6a9.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/73.c737f071.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/74.d0ea9fc8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/75.2219607f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/76.278079e2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/77.88eadfbc.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/78.257c919e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/79.e6f5d078.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/80.40ba7856.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/81.1fab2c8f.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/82.6eaad50e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/83.9f3e6e81.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/84.060f32c2.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/85.c069396c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/86.ced213eb.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/87.763c4879.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/88.69fe1a6a.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/89.b87612a8.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/9.5f2fc60c.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/90.6132ccb6.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/91.27dbc3bd.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/92.88832461.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/93.0166bd69.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/94.e29b12f1.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/95.f1245827.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/96.9c45438e.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/97.e8783a06.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/98.60628afa.js"><link rel="prefetch" href="/code_heavy_industry/assets/js/99.b3cb9d0f.js">
    <link rel="stylesheet" href="/code_heavy_industry/assets/css/0.styles.f7de6701.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/code_heavy_industry/" class="home-link router-link-active"><!----> <span class="site-name">代码重工</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="分布式事务"><a href="#分布式事务" class="header-anchor">#</a> 分布式事务</h1> <h2 id="课程内容"><a href="#课程内容" class="header-anchor">#</a> 课程内容</h2> <ul><li>分布式事务</li> <li>分布式事务解决方案</li> <li>seata</li></ul> <h2 id="_1-分布式事务"><a href="#_1-分布式事务" class="header-anchor">#</a> 1. 分布式事务</h2> <h3 id="_1-0-架构演变对操作可靠性影响的推演"><a href="#_1-0-架构演变对操作可靠性影响的推演" class="header-anchor">#</a> 1.0 架构演变对操作可靠性影响的推演</h3> <h4 id="_1单体架构"><a href="#_1单体架构" class="header-anchor">#</a> ①单体架构</h4> <p>问题：操作不一定成功，也可能失败。这个问题对单体节点内部来说，可以使用『本地事务』来控制。所有操作都成功则提交事务；有任何一个操作失败则回滚事务。数据即使不能进入下一个正确状态，也会回到上一个正确状态。</p> <p>但是放在分布式系统中，单一节点内部的操作有可能是一个总体操作的组成部分。如果总体操作中有的部分成功了，有的部分失败了，这仍然会造成数据的不一致。</p> <p>所以从这里我们能看到分布式系统的第一个不确定因素：整个分布式系统中<span style="color:blue;font-weight:bold;">单一节点的操作有可能失败</span>。而这个情况是<span style="color:blue;font-weight:bold;">无法彻底消除</span>的。例如：库存是 3 的时候，下单数量是 5，下单就是不能成功，因为库存不能减少到负数。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADKCAIAAABmGTi4AAAbOUlEQVR42u2dDVxMWf/A8zyLR7Ib+/J/7JK3XrDYLIvethf0smSLRe2KvJSKVXYpKhXKkmgqarWpUaiWlCVboffytpG3RSoJsf6rpLC2Z+3z49j73J2Zpjsz98y9M53vx6fPNN0598zxnd/5nXPvnNPlzz//1CAoi6dPn167dq2qqgr9vHnzRgvwqKW19XFLa8uzZ7/36qXVs6fWG69raWn16t3nTQMDA319ffRTR0eH6+rLSRciGW5aW1uLiooKCwsLCgoqKirQk7qDdQz0Bwwa8G4vLc0X/3r1hJ/du3VtaX3y6l/L4weNzdeq66uu33zQ+BBe8mafPuYWLzA3Nx81ahTXb0sGiGS4ePDgQXp6elra3pKSMvh11Ah9c5PR5mZjhuoN0Ncb0PW115gX9cv9xqrqmxXnrhSWVhSVnnvY/Khv33/b209zcnKytLTk+o12DJGMfTIyMsCt/fsPdO36mtMMG9vJRhamY97t+zZb5Z88c7GotGJfVn7FuZ/19HSdnT+fPXv28OHDuX7f7UIkY5OYmJgoQWRN7Q3riROcZljPnmGt2eNf+E5XUXk1PSM3df+x23fugmfLli0zNjbmug0kQCRjgWfPnkW9QNDQcPdLD2cfT6fBg95TZgW+zzwaHZdWdvL8tGnTvL29raysuG6Sv0EkU5TExMSAAP+mpiZvT2dvTycWu0VZ+eFIcXRc6vGiM7NmzQoLC9PV1eW6bV5BJJMfGCoGBATk5uYuXey01t+9T+/Xua7RCw7nlASsi7twqQo88/f357o6LyCSyYmfn194eLiZ8ZiwIA8z49FcV0eUsM2JgetjP/hgpEAQbWFhwW1liGQy09raOneuS2ZmVsxm36WLZ3FdnXa5XlO/OmR7xsHjCQkJCxcu5LAmRDLZuHDhgsucL5qbG5N3hHxs8iHX1ekYv6DocEEy9JvQe3JVByKZDGRmZkIMGzt6WMp36/q9+w7X1WHKjsQDHj4bnGZ+lrxnb9euXZVfASIZU7ZEbF6x0nfRPIfvYgK5rovMHC04Ndc9qL/OwJSUPQYGBko+O5GMEUu8PGPjvt0QvGT11/O5rouc1NbdAc+uXr+VkrLbzs5OmacmknVAW1ubvb19QUFBSvzaWdMnc10dRQHPUtKOxMTELF26VGknJZJ1gJPTrKLCokPfb4FUjOu6sIPVVI+C4p8OHTo0depU5ZyRSCaNAP/VG77ZePTg9kmW47muC5u4eoQcPFJSXn5i2DBlfHKIZO2yc+fORYsWfRvlv3j+dK7rwj4f27o9+e15Wfmp7t274z4XkUwykIRZWVn5+szdtG4Z13XBQl19g+nkRUYmJvv2HcB9LiKZBOrr642NJxiNHb4vZRPXdcFIftGZifaeq/x8v9mI920SySRg8bFZc/Ov5cd29vgX9q6EW74TZrovC4uPj3dzc8N3FiKZKAsWzD9wIKMsL+H9YUO4rosyWB2ybeNW4fHjx/HdhaaQZOHh4fn5+Tk5Odw0DwaSkpIWLFhwMG3rtE8+5rouymP2vFUXrty6cuUqpvIVkszLyysuLs7GxkY9PHv8+LGenu70qebbtqzkui5Kpa7+rv5oR3//gJCQEBzlM5XM1tY2NzeXeblDhgyprq5WShOxho+Pz949KdfPHXjjDS2u66JsNkcl+66Jvnz5Mo4vpMgg2eDBg2NjY1+9rEuXTZs2+fr6SjwYulHIJVVLsvLychMTk/joADdXR67rwg1jzef2H6CfmZnJesnySIaiWklJiampqcSDVVGyTz75pO3pg6M/xHJdEc7IO37SxnFpdnY2NAW7Jcuck6E8TMoBUiIcbykuLjY3Nz+SEW03mY9fKVMaU2cub/vzX7m5eewWK5tklGHiKVdtbe2Ql6hWAEPMmOH46y/1RT/Gc10RjsnLP2njsDQ/P5/dL6bLIBnqJWtqaqDfhJwMnqFeC/2jn5+fig4zT58+PX78+Izdm6dPU4Gv/OPGaqrn6737ZmUdZLFMppKhGEY/WKTfRPJx3UTyMOeLL65XXTyVn8R1RXjBD0eKPnX6+syZM2PHjmWrTHnmydLS0pydncWfT01NdXJy4raNZKW1tVVbW3vbFl+PBTO4rgtfGDrms6nTZkRERLBVICPJdHV1IVBRv3p6elJzGXREYptK9J4JCQlubm5Ntwq03+jFdV34Qsg38QnJ2bdv32arwM5+7XLSJKu3tLumJW3guiI84mpV3bCxn7F466xskqEEX/ox7cU5HgIDYT09vcy9EQ5TLbiuC78wt3PXGTQ8JSWFldJklkz6LKvIhQGeExMTExQU2FSfz3VFeMf2+O/918U1Nz9ipbROLdmMGY7Pf2/O3LuZ64rwjks/14ycMLusrIyVBc86tWRvvfXmmpXzvb2cFS9K/eg/bIrXEu/Vq1crXlTnzcnOnDkzbty4c2V7DUfqc10XPjLHbc39xra8vKOKF9V5I1lERMSWiE13r/N9koUrEnZlLf06/Olvv6GrO4rQeacw5s2b9+u9muz9UVxXhKecv1hlaPL5xYsXR4wYoWBRit5+XVdXpxJxS5wJEz4yGqMfufErfKfQ/cDBeuKE2K2r5HhtuCDZLyj6z0c/oV9tHb+EnzmZMUprn99+e9bjHZOMjIzp0xX92ikLt1+r4tUkoE+f3mFrPDwXfYbvFCKSwa81NyRPo1MySXxtbd2dIaM+TU3c4PSZtTKbaPDIT90WL1E891e0u0Sr36rc7T337t3r27fv8UNxVuYf4TuLuGTigS1tf57zAn8RyUpPVJrZLCrJTTA1MtQQi2pKw3b6l337GSQlKXrrgAySMRlaUvDhpoysrKyBAwcaGhqK/6moqMjCwuLWlSP93sO4lp3cknl9tTHv+Mnq81no1y6vd3BDBCb/vH0jTlfWnThxQsFyZJasw+NLS0vNzMz4IFlISMjatWtdXV2Dg4PBNvqfMjMzIdVoazz5mizbzzBHRAvolMEt5t0lvHzTumW+PnM1aMKh8FZz4eDggUraJCB0887d6ceuXqtStDXUWDKNl8Fs+fLlMDrx8fGJjIyknk9JSVns7vbkfhnWs8uX+KPOEUlG7zeVL1lUXOomwZ6GhrsKlqPmkiEEAgGoBsEMQhoENngGRsQhIWvu17B8M7sIlGQoc6eet5loBONEGDDmHv9fT0Tl9SgKIsngMYqCGn8lasqULDHlBx+/rY9aWhQsp1NIBjx8+BA8EwqFkKJBX5menh7/bQz8h2E9qYhkqE+EJEy45xCSDIYdqE+EI0PXeIFkqHOEZ9znTzceP8rVI4TKzJBk4mehxgessy/z2Kx5q54/f67gfCyXklVWVjo6KvVLjg9fAg+ghs0Pfzlfthfr6UAd+Al5GIQlangoRTIYhaDOEdwCydCf/tewSo9kOcfK7aYva25ufv11hTZb4XJ0Cf/fEFqwNxXtdFFRUfATxpVDhw4tLsy7fPp7fKdDvSHqGRl2l/W378EDcAuc44Nkh34snjb7qydPnvTo0UORcmSTjMlXdnnYXYJYMMxEQkNaBoOArVu3CiI31/98GNMZIZdCAUnW7hK9nCeS7f0+x9Uz5Pff2xRtDeaSeXl51dbW8v+2fREKCwvRABNl/dra2vDkd99957vy66ZbBVhP3d7oEjknRReeSLYj8YD/2tgHjU0KliPb9y5V5Q4LBOR8EMCysrKgf0xKSqJPlaWmprq4uPyn6RTWClCSSZkho0MJJEUy8VdRM2qsExGdErMj42b9LQXLkUEyGGKo1mXK0aNfbN4GAczBwUHkT4cPH7a3t3/8SynWnXXbi2TUVG17YYknkSx4w46MQyWXLl1RsBymkvEw02ICZGOofxTh/PnzhoaGl06lY11OUVwyqqOEn5C0gTQSrwjxRDLIKe83tR05omiCJMOqPvBT5RKy9nj69KmmpmbGns3T7TEuTSAiWbggOT7pQPX5LEo1eBLZJjLRxRPJjCbOH29sJRAIFCyHkWQojElZK0oVGThQx2P+p6u+csV3CsoVZBU1dy+S+KPpNGrSVYM3kvUZYBUa+g0M+BQsh5FkKpfyM8HGxua9d7onxgazXjJ9VgycgPQ5LmE/XQ7x0SW6F4O6ssQHye798qCvns2xY8cmTpyoYFGyjS4DAwMlBjO0bpRqhbplS5dW/FRadnQn1xXhKTHfpi3zjaivr+/fv7+CRcl/WQktu4KGAiKSSV/skyfs2bNnzpw5uAeYqsu6TQmJu7Pr6uoVL0q2O2Pp/aaqS3bnzp1+/fod2R9lZ23CdV34yER7T51Bw5OShIoXJZtkaASAXqLqkgEj3h8+xfojdd09SRF+b/uP5jvGCQk70Z1RCsJIMvF1YiFrhtNLXKUMoRKSfblkyZnTxSfzhVxXhHcczT9l7bDkxo0bIncUyweW712qSiTbv3//zJkzcd/pr4qsCBAczj2l+I3XCBnmyVDPqIrLp7cHvPc+vXsHrHRdscyF67rwi35Dpyxy82BrgxKmkYy6cInuxZDeVyJUYiVsD4/FFadLzhSxsxCXenA4p8R+1vIrV64MHTqUlQKZSqarq+vu7g49YHsTsyp3+RxRWFhoaWn5U1HKGHXZYlxxXNzW3GpoKSwuYatAma9dUrbR/4pGmiq6rMZQA3172wmbQ725rggv+OV+Y7+hdjEx2zw8PNgqk6lkVComMWKp6P2MiI0bN65ft/ZOVY5259u3S5wNEYkbI5Pv3Gno1Yu1lZqZSkbNilHzYSJLYoujKoHtyZMn77337nIvp6BVGHevVQn++OOPd/Xt3Nw9Q0NDWSxWtvvJIIZRE7AgmbW1NSRnVE8K8SwvLw+iHcPvNfGH4ODgbTFRDddzunfrynVduGTrtj1+QdENDXfffvttFotlKhma0/f09KT2JVEnyRobGyGYrQtYvNIby33MqsLA9+1nzHTasmUru8XKvNIitR+0OkkGQIV37IirOnvgnbd7c10XbgjbnLgmNK6urk5HR4fdkuXcJQ5CGvikTpK1tbXp6Q2xthwbHx3AdV04oKq63uDD6WFhYf7+/qwXLvO1S2ozGzWLZBp/3fxz9OD2SZbjua6Lspk5d/X12nuV5y/gKFz+a5eUZPQnUeqmoSIbK4nj4PDp3ds1pwp2cV0RpbI/69jMuasOHz48ZcoUHOV33oWJJXLp0qWRI0f6LPk88huMa8nyCugoTa0XfjLFXijE9dEikomSkpIyd+7cmM2+SxfP4rou2Pnjjz+MJi3852ua5SdOKr6UensQySSwdu2LRRo7w02zny8MPF5UUVZWjtb+xQSRTDLz5s7Jzj5cdjTRQG8A13XBxZrQuNDwnbm5uZBbYz0RkaxdTI2N2n5vKc3b2bUrlnVluSVp96EFXmtjY7d7eir6tcoOIZK1C4yUTYyNLcw+SE1Uty1Xi8vOmtu5f/21T0REpOKldQiRTBrHjh2bPHmy/4oFYUHYP+5K43bDfZPJC8d8+NGBLLyrmVIQyTpgx44dHh4ea3wXrQtk7f4qDrn0c42LW9CfXbqVlZ/o2bOnck5KJOuYuLg4Ly+vz2faJsev++c//8F1deTnYHbRvMXBhh8YpuzZq/j3wplDJGMEDMHmuswZPPDf4JneEJavHyuHyO17v1q9db7rvEQ2vq8rE0Qyply/ft3F5YvammrwzHaSEdfVkY0vV4Rvi/8+NHR9QECg8s9OJJOB58+fu7h8vndv+vYtfl5uM7muDiMeNDa7uAcdzT+VnCx0dv6CkzoQyWQmKCho/fr1Xy39YsuG5VzXpQNOV1yGNF/jH11TUvaMGzeOq2oQyeRh165drq6upkaGoUFe5iYfcl0dyYSGJ6wJ/dbOziY5efdbb73FYU2IZHJy9uzZwMDAH3/8cYnbzLCgJW/w6ZtOPxwpDlwfd/lKTVhY2KpV8uwbzC5EMoUQCoUBAf5tbc/WrFzwpQf3X2w+W3kVRpG70484Oc0KDd2A7u3jHCKZojx+/BhCmkAgeLfv296ezt6eTt27d1N+NcpOnhfEpu3POjrmww8DAgOVvGmVdIhk7NDQ0BAdHR0VJdDs0X3p4tlOM6yHGQxSzqkP/JAv3Jt96EiRibGRt8/ymTN5N+wlkrFJU1NTVFRUQkLCnTt3PjYZPXuGjdOMyX16v4HjXBC60jLy0jOO/v+vjZMnT1q2zHvq1KlcN4BkiGRYyM7OTk9PT0tLa2trm2j+kbnZGAvTMWbGoxUs9k7D/cLSiqLSswUlFdU19R+MGjnbyXn27Nk838GDSIYRSNf27dtXVFRUUHD85s1bPTV7QHjT1xtgoDtAX1cHHvR/7/+kvPzpb8+qquurrt+sqr55rbq+8sK1i5dfLMVlZmpiYWllZ2dnZKQaFx6IZEri2rVrhYWFJ06cuHr16vWqqsamF1uvwRChl1ZPLS3NXlqaWlo9unfr1tLypPXx49bHT1tanzx61Ipeqzt4kP7QYSNGjLCwsDA3N9fU1OT63cgGkYwb7t27V1VVVV9f39ra2vKSU6dOQczz9vbW0tLq9RJtbW0DAwN9ff1u3TgYrrIIkYwvCIXC5cuXNzUpurkkDyGS8QUiGQE7RDICdohkBOwQyQjYIZIRsEMkI2CHSEbADpGMgB0iGQE7RDICdohkBOwQyQjYIZIRsCAQCFxdXbW1tTXEJCssLISfFhYWXNeRBYhkXDJo0CDQKCkpSePvkj18+BD+5O3tzdbeudxCJOOSrKwsR0fHc+fOGRoa0iWDB/AneB4FOVWHSMYxo0e/+HYJ+ERJBh0lmBcZGQk9Kde1YwciGcfU1dVBz5iZmQldJJLM0tISni8oKOC6aqxBJOOe+fPnQ+cIoQskg/wMwhgYph4pP4JIxj0Qw3r37g1pGUQ1SMIcHBxAOK4rxSZEMl4ACRnEM3gAkt24cUM98n0KIhlfgMwMIllwcLB6TFvQIZLxBRhUQjBTm2kLOkQyHgGRbODAgVzXgn2IZATsEMkI2CGSEbBDJCNgh0hGwA6RDC+6urrW1taxsbEiz4eHh8fHx1dXV3NdQWVAJMNIWlqas7NzSUmJqampyJ+IZAR20H1JTk6O+J+kSFZaWmpmZsakfBsbG4mF8w0iGS5EwpitrW1ubq70l6CDkWQ1NTX05Ya7dOmyadMmX19f6hkvL6/a2loiWaeGHsZAERFpOoxkRDJCB4BDfn5+KDIhn/Ly8mSSjMlZSHfZeYEAM2TIEE9PTzSohCCUmprq5PS3nZdIJCMohEgoQvEGmSflVZSURDKCDEjURb5XEcnUgYcPH8p0PJO7viDxd3d3p5vBBHZzMhzvS1aIZK9wdHTMyspifnyH7Sb3dCu7kUwgECxfLsM21pmZmQ4ODoq1pShEslegDSK9vb0ZHi/920QoA0OjS/ADngFpQAspU2XSe1VxyRgCkayyspLhkdAIRDKMQPtCT4FWDFAcJBaCamFbW1v4KR57mKRuckvGHPSlKSIZRtiVTCIdSgaP5djQmRqWKgiRDDv4JINeMi4uLjU1VSgUasgeyZCa0M8i//BdUyeSYYd1yaiLldRMrBzdJfSSKFCh7lJHR8fZ2RnTfxmRDDssSoakEZ/ll36NXEQyFP+o6+tUToaGFDjyMyIZdviQkyHJkF4ic2AiiT86hq1sDEEkw44SJOsQdHeQxClWiaNLdBleg8GkHROIZNjhg2RSIFMY6gDPJVMCRDLsEMmIZNghkhHJsEMkI5Jhh0hGJMMOkYxIhh0iGZEMO0QyIhl2iGREMvZBN79Tt7SLSFZZWWloaMh1HZXRCFQLiEgm0j6K0Hkly8rKQgsBo2Va6ZKBYZaWltDc6rRjg0SgBerq6tDuJyKShYSE7Nq168aNG4qfpfNKpvFyVXMIV9CsGn+XTP02nmkP+DiNHj0aiUWXDMyD59napq5TS4Y2aUN7zFCS0Z/kuoLKAG2609TURJcMniwsLGRrvfdOLZnGywAGn2boFJBkkZGREMZALzXbeEYKyK3g4GAfHx8kGbQDyhbYGgF0dsnQJm0QwA4ePAiNO2DAgKioKCpR6yRAnwjvGoI36jrhMTQFyiJYobNLpvFyB1OhUIjGkhDV1Ga/XJmATxp8rqCLhCgOjQDCsTi4JpK96C/gEwwhDR5DQ6vlxjMdgjJR9Jj1/Z2IZC+gNmnDMRWpKqCFGnB8zIhkr4BgBu3LYiKicqD0FEY8MAJgt2Qi2SvQghGdYZZfChDRcWx8TiQjYIdIRsAOkYyAHSIZATtEMgJ2iGQE7BDJCNjpdJKhpZfQuk4St3Foj/bW5FEtFFx5Sr5F4zudZBp/bREybtw4jZfLZzLcPEZ1JaMv1tKhZO0t8I48kW/zgM4rGRXAwB5XV1f4FS36JXIwpaCKSoaWo6JiD0PJ6Ht0ohKQJ7q6uqGhoQxjP4XaSkat3cUQejyTuN2uikomsucmPVuQeLwUyaTsYiHdInWWrL29GjrcKIQumfQ1ONld65B1kB8MD0bmUZLdvn0bhcDTp08jyVCkp4Rhnp8RyTQkHiAeycSfVMLCdAoi/k6ZRzJxyaC0mpcgq4hkMkgm/j+hHpJB4MnLyxNpAbklg3daV1dHXyuZnqtJR50lE8/JUONCDwgfPvq+fyKuSJRMXCmeSwbVo6dWCPGUS4T2JIOcNTAwEEZIVOLPfPModZaM3gT0zY7o43AQrvol9NeKSyYxAPBcMonIKhnoQY9Y9M8n/bF01Fmy/Px8alRFb1zKv/ZaXFwy8SM77He4ReJ0TIfA2+nXr58Uyeitynw6Q20lE5k2pGep1NQRmEQf3lOIS4Y6X3pb8Vyy9kCDZYaRDPpH+CjSJaOasaGhgfnUv9pKBq1pZWVF9WV0yeg7NUt8+0iyFStWUNcDGHagPIdKQOkxXuIxIFl5eTk6TCTBR1PZxcXFzKf+1VYykWl9kZZCo3HqA01XkJoYA4dQrobCmMinlp7kcf1emULNJ1MXOaQcjDpcqhFEnocHzN+7ekomPoVDH89TM9cio3EIWqCXSHBCMolPunaYQfMNkalU+BBK7+xQyiUUCqFNxPMEcfmkoJ6SUQkZPf9FQiA5QBpwjkrIpFz3hf8MiVfQ5bsfgStQeKbXVnokhk8dSsg0/or69E5A4+V2Y8yvdqihZFKyJdTxiW+3JpLAIZBG7d2jIRIYeIv0wENtdSj+PNWAUAK8WTgGBIXnUVES5xfbQw0lE5m8oD8Phol8dtHHVENsBIA6UHoj0ocLCP73lWiXaumjE/Rpob9TifN/qEHoRjLvN9VQMoLGX/0j87li6ngq0tP/KnHogxDZl1MiRDICdohkBOwQyQjYIZIRsEMkI2CHSEbADpGMgJ3/Ap6ftYpxm6iuAAAAAElFTkSuQmCC" alt="images"></p> <h4 id="_2分布式系统节点之间网络通信"><a href="#_2分布式系统节点之间网络通信" class="header-anchor">#</a> ②分布式系统节点之间网络通信</h4> <p>问题：网络通信有丢失数据的可能。哪怕只有 0.00001% 的风险，也不能说是 100% 的保障。这个不确定性因素也是<span style="color:blue;font-weight:bold;">无法彻底消除</span>的。</p> <p><img src="/code_heavy_industry/assets/img/img002.fa8f65be.png" alt="images"></p> <h4 id="_3结论"><a href="#_3结论" class="header-anchor">#</a> ③结论</h4> <p>导致分布式事务的最基本的因素有两个：</p> <ul><li>单个节点内部操作失败：导致我们从整个系统的视角来看数据进入不一致状态。</li> <li>网络传输失败：导致我们无法确认某个节点的操作是否得到了执行。</li></ul> <p>而最关键的是：<span style="color:blue;font-weight:bold;">从微观上来看</span>，造成分布式事务问题的这两个基本因素<span style="color:blue;font-weight:bold;">无法彻底消除</span>。</p> <p><img src="/code_heavy_industry/assets/img/img003.9c673aee.png" alt="images"></p> <p>所以我们解决分布式事务的问题要有这样一个意识：</p> <ul><li>微观上来看：操作没有办法保证都成功。</li> <li>宏观上来看：即使局部操作失败，整个系统仍然能够正常运行。</li> <li>从程度上来看：分布式事务的问题不是非黑即白的不是成功就是失败，而是有一个程度问题。我们需要根据项目的实际需求，在性能和数据一致性之间取得平衡。</li></ul> <h3 id="_1-1-什么是事务"><a href="#_1-1-什么是事务" class="header-anchor">#</a> 1.1 什么是事务</h3> <p>事务提供一种机制将一个活动涉及的所有操作纳入到一个不可分割的执行单元，组成事务的所有操作只有在所有操作均能正常执行的情况下方能提交，只要其中任一操作执行失败，都将导致整个事务的回滚。</p> <blockquote><p>不知道你是否遇到过这样的情况，去小卖铺买东西，付了钱，但是店主因为处理了一些其他事，居然忘记你付了钱，又叫你重新付。</p> <p>又或者在网上购物明明已经扣款，但是却告诉我没有发生交易。这一系列情况都是因为没有事务导致的。这说明了事务在生活中的一些重要性。</p> <p>有了事务，你去小卖铺买东西，那就是一手交钱一手交货。有了事务，你去网上购物，扣款即产生订单交易。</p></blockquote> <p><em><strong>*简单地说，事务提供一种“要么什么都不做，要么做全套（All or Nothing）”机制。*</strong></em></p> <h3 id="_1-2-事务特性-acid"><a href="#_1-2-事务特性-acid" class="header-anchor">#</a> 1.2 事务特性(ACID)</h3> <p>事务满足ACID特性：</p> <ul><li>A：原子性(Atomicity)</li></ul> <p>一个事务(transaction)中的所有操作，要么全部完成，要么全部不完成，不会结束在中间某个环节。</p> <p>事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。</p> <p>就像你买东西要么交钱收货一起都执行，要么发不出货，就退钱。</p> <ul><li>C：一致性(Consistency)</li></ul> <p>事务的一致性指的是在一个事务执行之前和执行之后数据库都必须处于一致性状态。</p> <p>如果事务成功地完成，那么系统中所有变化将正确地应用，系统处于有效状态。</p> <p>如果在事务中出现错误，那么系统中的所有变化将自动地回滚，系统返回到原始状态。</p> <ul><li>I：隔离性(Isolation)</li></ul> <p>指的是在并发环境中，当不同的事务同时操纵相同的数据时，每个事务都有各自的完整数据空间。</p> <p>由并发事务所做的修改必须与任何其他并发事务所做的修改隔离。事务查看数据更新时，数据所处的状态要么是另一事务修改它之前的状态，要么是另一事务修改它之后的状态，事务不会查看到中间状态的数据。</p> <p>打个比方，你买东西这个事情，是不影响其他人的。</p> <ul><li>D：持久性(Durability)</li></ul> <p>指的是只要事务成功结束，它对数据库所做的更新就必须保存下来。即使发生系统崩溃，重新启动数据库系统后，数据库还能恢复到事务成功结束时的状态。</p> <p>打个比方，你买东西的时候需要记录在账本上，即使老板忘记了那也有据可查。</p> <h3 id="_1-3-本地事务"><a href="#_1-3-本地事务" class="header-anchor">#</a> 1.3 本地事务</h3> <ul><li>什么是本地事务（Local Transaction）？</li></ul> <p>本地事务也称为<strong>数据库事务</strong>或<strong>传统事务</strong>（相对于分布式事务而言,执行的多条sql语句在同一个会话连接中）。它的执行模式就是常见的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token number">1.</span> <span class="token keyword">begin</span>
<span class="token number">2.</span> <span class="token keyword">insert</span><span class="token operator">/</span><span class="token keyword">delete</span><span class="token operator">/</span><span class="token keyword">update</span>
<span class="token number">3.</span> <span class="token keyword">insert</span><span class="token operator">/</span><span class="token keyword">delete</span><span class="token operator">/</span><span class="token keyword">update</span>
<span class="token number">4.</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">5.</span> <span class="token keyword">commit</span><span class="token operator">/</span><span class="token keyword">rollback</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p>本地事务有这么几个特征：</p> <ul><li>-一次事务只连接一个支持事务的数据库（一般来说都是关系型数据库）</li> <li>事务的执行结果保证ACID</li> <li>会用到数据库锁</li></ul></li> <li><p>起初，事务仅限于对单一数据库资源的访问控制，架构服务化以后，事务的概念延伸到了服务中。倘若将一个单一的服务操作作为一个事务，那么整个服务操作只能涉及一个单一的数据库资源，这类基于单个服务单一数据库资源访问的事务，被称为本地事务(Local Transaction)。</p> <p><img src="/code_heavy_industry/assets/img/image-20210927110449421.1f44173f.png" alt="image-20210927110449421"></p></li></ul> <h3 id="_1-4-什么是分布式事务"><a href="#_1-4-什么是分布式事务" class="header-anchor">#</a> 1.4 什么是分布式事务</h3> <p>分布式事务指事务的参与者、支持事务的服务器、资源服务器以及事务管理器分别位于分布式系统的不同节点上，且属于不同的应用。</p> <p>指一次大的操作由不同的小操作组成的，这些小的操作分布在不同的服务器上，分布式事务需要保证这些小操作要么全部成功，要么全部失败。</p> <p>本质上来说，分布式事务就是为了保证不同数据库的数据一致性。</p> <p><img src="/code_heavy_industry/assets/img/image-20210927111458186.2b6e4639.png" alt="image-20210927111458186"></p> <blockquote><p>上图是一个电商支付流程简化图，整个平台按照微服务进行拆分，涉及到服务模块有订单、商品、用户等模块。用户从浏览器选择好商品后进行支付下单操作，支付下单在订单模块生成。当订单成功生成后就需要分别调用商品模块进行扣减商品库存以及用户模块给用户增加积分等操作。这种架构下的事务就属于分布式事务了，要么全部业务模块都成功执行并提交数据库。只要其中一个微服务出现异常整个调用链路涉及到的操作都需要进行回滚，保障事务的一致性。</p></blockquote> <h3 id="_1-5-分布式事务场景"><a href="#_1-5-分布式事务场景" class="header-anchor">#</a> 1.5 分布式事务场景</h3> <ul><li>电商系统中的下单扣库存</li></ul> <p>​	电商系统中，****订单系统*<em><strong>和</strong></em>*库存系统****是两个系统，一次下单的操作由两个系统协同完成</p> <ul><li>金融系统中的银行卡充值</li></ul> <p>​	在金融系统中通过银行卡向平台充值需要通过****银行系统*<em><strong>和</strong></em>*金融系统****协同完成。</p> <h2 id="_2、分布式事务标准与规范"><a href="#_2、分布式事务标准与规范" class="header-anchor">#</a> 2、分布式事务标准与规范</h2> <p>通过前面的分析我们可以了解到，分布式事务面临的问题无法达到绝对的、100% 可靠，没有办法从微观上、根源上彻底解决。那么问题解决到什么程度？性能和数据准确如何取舍和平衡？等等这些两难问题我们都需要有相关的标准和规范来参照和衡量。</p> <h3 id="_1cap-定理"><a href="#_1cap-定理" class="header-anchor">#</a> ①CAP 定理</h3> <p>CAP 定理，又叫做布鲁尔定理。对于设计分布式系统（不仅仅是分布式事务）的架构师来说，CAP 就是你的入门理论。</p> <p>分布式系统（Distribution System）正变得越来越重要，大型网站几乎都是分布式的。</p> <p>分布式系统的最大难点就是各节点的状态如何同步。CAP 定理是这方面的基本定理，也是理解分布式系统的起点。</p> <p><img src="/code_heavy_industry/assets/img/CAP.fb1dc229.jpg" alt="images"></p> <h4 id="_1-c-一致性-通俗理解-对"><a href="#_1-c-一致性-通俗理解-对" class="header-anchor">#</a> [1]C：一致性（通俗理解：对）</h4> <p><span style="color:blue;font-weight:bold;">Consistency 一致性</span>：指数据在多个副本之间能够保持一致的特性。</p> <ul><li>强一致性：分布式系统中的数据在任何一个相同的时刻具有同样的值。</li> <li>弱一致性：数据更新后，能够容忍数据在短暂的一段时间内可以不一致。也可称之为：最终一致性。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>数据的『正本』和『副本』：</p> <p>正本：通常 MySQL 这样的关系型数据库中存储的数据视为正本。</p> <p>副本：通常 Redis、ElasticSearch 等 NoSQL 数据库中存储的数据视为副本。</p></div> <h4 id="_2-a-可用性-通俗理解-快"><a href="#_2-a-可用性-通俗理解-快" class="header-anchor">#</a> [2]A：可用性（通俗理解：快）</h4> <p><span style="color:blue;font-weight:bold;">Available 可用性</span>：这是在系统工作过程中，衡量系统<span style="color:blue;font-weight:bold;">性能</span>的一个指标。指系统提供的服务必须一直处于可用的状态，每次只要收到用户的请求，服务器就必须给出回应。在合理的时间内返回合理的响应——不是错误和超时的响应。</p> <p>只有非故障节点才能满足业务正常。</p> <p>只有在合理的时间内用户才能接受。</p> <p>只有返回合理的响应，信息才有价值。</p> <h4 id="_3-p-网络分区容错性-通俗理解-能用"><a href="#_3-p-网络分区容错性-通俗理解-能用" class="header-anchor">#</a> [3]P：网络分区容错性（通俗理解：能用）</h4> <p><span style="color:blue;font-weight:bold;">Partition Toleration 分区容错性</span></p> <ul><li>分区</li></ul> <p>网络节点之间无法通信的情况下，节点被隔离，产生了网络分区，此时整个系统仍然是可以工作的。大多数分布式系统都分布在多个子网络。每个子网络就叫做一个区（partition）。</p> <ul><li>分区容错</li></ul> <p>即使各子网络之间无法通信，甚至某个分区出现了故障，但整个系统对外仍然是可用的。</p> <h4 id="_4-cap-定理"><a href="#_4-cap-定理" class="header-anchor">#</a> [4]CAP 定理</h4> <p>CAP 中的三者不可能同时满足。通常来说 P 是要求必须实现的：从外部视角来看，不管系统内部如何，我们无法接受整个系统对外不可用。在满足 P 的基础上，CP 和 AP 二选一。CAP 不可能同时满足。</p> <h3 id="_2base-定理"><a href="#_2base-定理" class="header-anchor">#</a> ②BASE 定理</h3> <p>BASE = <span style="color:blue;font-weight:bold;">B</span>saically <span style="color:blue;font-weight:bold;">A</span>vailable（基本可用） + <span style="color:blue;font-weight:bold;">S</span>oft state（软状态）+ <span style="color:blue;font-weight:bold;">E</span>ventually consistent（最终一致性）。</p> <p>理论的提出者是 eBay 的架构师。</p> <p>BASE 定理是对 CAP 定理的进一步探讨。既然 CAP 中『一致性』和『可用性』无法同时满足，那如何在二者间达到一个可以接受的平衡呢？</p> <p>BASE 定理的主张是：哪怕是做不到强一致性，也应该尽量做到最终一致性。</p> <h4 id="_1-基本可用"><a href="#_1-基本可用" class="header-anchor">#</a> [1]基本可用</h4> <p>相对于『用户请求什么就返回什么』的完整功能来说，基本可用是指系统在无法准确返回用户所请求的数据时也返回相关数据，而不是『什么都不返回』。</p> <p>相对于『收到用户请求就立即返回结果』的优质用户体验来说，基本可用是指系统在无法立即响应用户请求时，稍作延迟仍然能够返回响应，而不是『放弃响应』。</p> <p>也就是说：服务可以适度<span style="color:blue;font-weight:bold;">『降级』</span>，但不能完全不可用。</p> <h4 id="_2-软状态"><a href="#_2-软状态" class="header-anchor">#</a> [2]软状态</h4> <p>满足 ACID 的事务属性就达到了『硬状态』。在传统的关系型数据库中，事务要么提交，要么回滚——非黑即白。而『软状态』允许系统暂时处于中间状态：从一个操作的发起到它同步到各个分布式节点，允许存在这样一个『正在同步数据』的中间过程。</p> <h4 id="_3-最终一致性"><a href="#_3-最终一致性" class="header-anchor">#</a> [3]最终一致性</h4> <p>相对于关系型数据库事务的『立即一致』，分布式系统应该追求『最终一致』，允许系统在同步数据的过程中存在暂时的数据不一致状态，只要数据能够达到『最终一致』，我们就可以认为系统是可靠的。</p> <h3 id="_3小结"><a href="#_3小结" class="header-anchor">#</a> ③小结</h3> <p>不管 CAP 还是 BASE，它们都只是标准。它们没有提供分布式事务问题的解决方案，但是它们是解决方案是否成立的衡量标准。</p> <h2 id="_3、分布式事务解决方案"><a href="#_3、分布式事务解决方案" class="header-anchor">#</a> 3、分布式事务解决方案</h2> <h3 id="_1基于-xa-协议的两阶段提交-2pc"><a href="#_1基于-xa-协议的两阶段提交-2pc" class="header-anchor">#</a> ①基于 XA 协议的两阶段提交 (2PC)</h3> <p>X/Open 组织（即现在的 Open Group ）定义了分布式事务处理模型</p> <p><strong>XA协议</strong>：XA是一个分布式事务协议。XA中大致分为两部分：事务管理器和本地资源管理器。其中本地资源管理器往往由数据库实现，比如Oracle、DB2这些商业数据库都实现了XA接口，而事务管理器作为全局的调度者，负责各个本地资源的提交和回滚。</p> <h4 id="_2-1-1-概念"><a href="#_2-1-1-概念" class="header-anchor">#</a> 2.1.1 概念</h4> <p>二阶段提交2PC（Two phase Commit）是指，在分布式系统里，为了保证所有节点在进行事务提交时保持一致性的一种算法。</p> <h4 id="_2-1-2-背景"><a href="#_2-1-2-背景" class="header-anchor">#</a> 2.1.2 背景</h4> <p>在分布式系统里，<strong>每个节点都可以知晓自己操作的成功或者失败，却无法知道其他节点操作的成功或失败。</strong></p> <p>当一个事务跨多个节点时，为了保持事务的原子性与一致性，需要引入一个<strong>协调者</strong>（Coordinator）来统一掌控所有<strong>参与者</strong>（Participant）的操作结果，并指示它们是否要把操作结果进行真正的提交（commit）或者回滚（rollback）。</p> <h4 id="_2-1-3-思路"><a href="#_2-1-3-思路" class="header-anchor">#</a> 2.1.3 思路</h4> <p>2PC顾名思义分为两个阶段，其实施思路可概括为：</p> <p>（1）投票阶段（voting phase）：参与者将操作结果通知协调者；</p> <p>（2）提交阶段（commit phase）：收到参与者的通知后，协调者再向参与者发出通知，根据反馈情况决定各参与者是否要提交还是回滚；</p> <h4 id="_2-1-4-缺陷"><a href="#_2-1-4-缺陷" class="header-anchor">#</a> 2.1.4 缺陷</h4> <p>算法执行过程中，<strong>所有节点都处于阻塞状态，所有节点所持有的资源（例如数据库数据，本地文件等）都处于封锁状态。</strong></p> <p>典型场景为：</p> <p>（1）某一个参与者发出通知之前，所有参与者以及协调者都处于阻塞状态；</p> <p>（2）在协调者发出通知之前，所有参与者都处于阻塞状态；</p> <p>另外，如有协调者或者某个参与者出现了崩溃，为了避免整个算法处于一个完全阻塞状态，往往需要借助超时机制来将算法继续向前推进，故此时算法的效率比较低。</p> <p>总的来说，<strong>2PC是一种比较保守的算法</strong>。</p> <h4 id="_2-1-5-举例"><a href="#_2-1-5-举例" class="header-anchor">#</a> 2.1.5 举例</h4> <p>甲乙丙丁四人要组织一个会议，需要确定会议时间，不妨设甲是协调者，乙丙丁是参与者。</p> <p><strong>投票阶段：</strong></p> <p>（1）甲发邮件给乙丙丁，周二十点开会是否有时间；</p> <p>（2）乙回复有时间；</p> <p>（3）丙回复有时间；</p> <p>（4）丁迟迟不回复，此时对于这个活动，甲乙丙均处于阻塞状态，算法无法继续进行；</p> <ul><li>甲：在等待丁的回复</li> <li>乙：在等待甲的下一个通知</li> <li>丙：在等待甲的下一个通知</li></ul> <p>（5）丁回复有时间（或者没有时间）；</p> <ul><li>此时甲收集到了全部反馈信息：乙（成功），丙（成功），丁（失败）</li> <li>甲通知下一步操作：会议取消</li></ul> <p><strong>提交阶段：</strong></p> <p>（1）协调者甲将收集到的结果反馈给乙丙丁（什么时候反馈，以及反馈结果如何，在此例中取决与丁的时间与决定）；</p> <p>（2）乙收到；（收到通知，会议取消）</p> <p>（3）丙收到；（收到通知，会议取消）</p> <p>（4）丁收到；（收到通知，会议取消）</p> <h4 id="_2-1-6-结论"><a href="#_2-1-6-结论" class="header-anchor">#</a> 2.1.6 结论</h4> <p>2PC效率很低，分布式事务很难做</p> <h4 id="_2-1-7-实际应用交互流程"><a href="#_2-1-7-实际应用交互流程" class="header-anchor">#</a> 2.1.7 实际应用交互流程</h4> <ul><li>2PC两阶段提交的正向流程（最终能够提交事务）</li></ul> <p><strong>第一阶段：</strong></p> <p>2PC中包含着两个角色：<strong>事务协调者</strong>和<strong>事务参与者</strong>。让我们来看一看他们之间的交互流程：</p> <p><img src="/code_heavy_industry/assets/img/wpsD4A0.tmp.bd5469e1.jpg" alt="img"></p> <p>在分布式事务的第一阶段，作为事务协调者的节点会首先向所有的参与者节点发送Prepare请求。</p> <p>在接到Prepare请求之后，每一个参与者节点会各自执行与事务有关的数据更新，写入Undo Log和Redo Log。如果参与者执行成功，暂时不提交事务，而是向事务协调节点返回“完成”消息。</p> <p>当事务协调者接到了所有参与者的返回消息，整个分布式事务将会进入第二阶段。</p> <p><strong>第二阶段：</strong></p> <p><img src="/code_heavy_industry/assets/img/wpsD4A1.tmp.c20bc11f.jpg" alt="img"></p> <p>在2PC分布式事务的第二阶段，如果事务协调节点在之前所收到都是正向返回，那么它将会向所有事务参与者发出Commit请求。</p> <p>接到Commit请求之后，事务参与者节点会各自进行本地的事务提交，并释放锁资源。当本地事务完成提交后，将会向事务协调者返回“完成”消息。</p> <p>当事务协调者接收到所有事务参与者的“完成”反馈，整个分布式事务完成。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>ACK 的含义是：Acknowledge character，确认字符。</p></div> <ul><li>失败情况的处理流程（事务最终会回滚）</li></ul> <p><em><strong>*第一阶段：*</strong></em></p> <p><img src="/code_heavy_industry/assets/img/wpsD4B1.tmp.3c1aa7f9.jpg" alt="img"></p> <p><em><strong>*第二阶段：*</strong></em></p> <p><img src="/code_heavy_industry/assets/img/wpsD4B2.tmp.c18f661d.jpg" alt="img"></p> <p>在2PC的第一阶段，如果某个事务参与者反馈失败消息，说明该节点的本地事务执行不成功，必须回滚。</p> <p>于是在第二阶段，事务协调节点向所有的事务参与者发送Abort(中止)请求。接收到Abort请求之后，各个事务参与者节点需要在本地进行事务的回滚操作，回滚操作依照Undo Log来进行。</p> <p>以上就是2PC两阶段提交协议的详细过程。</p> <ul><li>2PC两阶段提交究竟有哪些不足呢？</li></ul> <p><strong>1)性能问题</strong></p> <p>2PC遵循强一致性。在事务执行过程中，各个节点占用着数据库资源，只有当所有节点准备完毕，事务协调者才会通知提交，参与者提交后释放资源。这样的过程有着非常明显的性能问题。</p> <p><strong>2) 协调者单点故障问题</strong></p> <p>协调者是整个2PC模型的核心，一旦事务协调者节点挂掉，参与者收不到提交或是回滚通知，参与者会一直处于中间状态无法完成事务。</p> <p><strong>3) 丢失消息导致的不一致问题。</strong></p> <p>的第二个阶段，如果发生局部网络问题，一部分事务参与者收到了提交消息，另一部分事务参与者没收到提交消息，那么就导致了节点之间数据的不一致。</p> <h3 id="_2代码补偿事务-tcc"><a href="#_2代码补偿事务-tcc" class="header-anchor">#</a> ②代码补偿事务(TCC）</h3> <p>TCC 的作用主要是解决跨服务调用场景下的分布式事务问题</p> <h4 id="_2-2-1-场景案例"><a href="#_2-2-1-场景案例" class="header-anchor">#</a> 2.2.1 场景案例</h4> <p>以航班预定的案例，来介绍TCC要解决的事务场景。在这里笔者虚构一个场景，把自己当做航班预定的主人公，来介绍这个案例。从合肥 –&gt; 昆明 –&gt; 大理。</p> <p>准备从合肥出发，到云南大理去游玩，然后使用美团App(机票代理商)来订机票。发现没有从合肥直达大理的航班，需要到昆明进行中转。如下图：</p> <p><img src="/code_heavy_industry/assets/img/wpsF260.tmp.682c5c92.jpg" alt="img"></p> <p>从图中我们可以看出来，从合肥到昆明乘坐的是四川航空，从昆明到大理乘坐的是东方航空。</p> <p>由于使用的是美团App预定，当我选择了这种航班预定方案后，美团App要去四川航空和东方航空各帮我购买一张票。如下图：</p> <p><img src="/code_heavy_industry/assets/img/wpsF261.tmp.682a3809.jpg" alt="img"></p> <p>考虑最简单的情况：美团先去川航帮我买票，如果买不到，那么东航也没必要买了。如果川航购买成功，再去东航购买另一张票。</p> <p>现在问题来了：假设美团先从川航成功买到了票，然后去东航买票的时候，因为天气问题，东航航班被取消了。那么此时，美团必须取消川航的票，因为只有一张票是没用的，不取消就是浪费我的钱。那么如果取消会怎样呢？如果读者有取消机票经历的话，非正常退票，肯定要扣手续费的。在这里，川航本来已经购买成功，现在因为东航的原因要退川航的票，川航应该是要扣代理商的钱的。</p> <p>那么美团就要保证，如果任一航班购买失败，都不能扣钱，怎么做呢？</p> <p>两个航空公司都为美团提供以下3个接口：<strong>机票预留接口、确认接口、取消接口</strong>。美团App分2个阶段进行调用，如下所示：</p> <p><img src="/code_heavy_industry/assets/img/wpsF262.tmp.264ed4e9.jpg" alt="img"></p> <p><em><strong>*在第 1 阶段：*</strong></em></p> <p>美团分别请求两个航空公司预留机票，两个航空公司分别告诉美团预留成功还是失败。航空公司需要保证，机票预留成功的话，之后一定能购买到。</p> <p><em><strong>*在第 2 阶段：*</strong></em></p> <p>如果两个航空公司都预留成功，则分别向两个公司发送确认购买请求。</p> <p>如果两个航空公司任意一个预留失败，则对于预留成功的航空公司也要取消预留。这种情况下，对于之前预留成功机票的航班取消，也不会扣用户的钱，因为购买并没实际发生，之前只是请求预留机票而已。</p> <p>通过这种方案，可以保证两个航空公司购买机票的一致性，要不都成功，要不都失败，即使失败也不会扣用户的钱。如果在两个航班都已经已经确认购买后，再退票，那肯定还是要扣钱的。</p> <p>当然，实际情况肯定这里提到的肯定要复杂，通常航空公司在第一阶段，对于预留的机票，会要求在指定的时间必须确认购买(支付成功)，如果没有及时确认购买，会自动取消。假设川航要求10分钟内支付成功，东航要求30分钟内支付成功。以较短的时间算，如果用户在10分钟内支付成功的话，那么美团会向两个航空公司都发送确认购买的请求，如果超过10分钟(以较短的时间为准)，那么就不能进行支付。</p> <p>这个方案提供给我们一种跨服务保证事务一致性的一种解决思路，可以把这种方案当做TCC的雏形。</p> <p>TCC是Try ( 尝试 ) — Confirm(确认) — Cancel ( 取消 ) 的简称:</p> <table><thead><tr><th><strong>操作方法</strong></th> <th><strong>含义</strong></th></tr></thead> <tbody><tr><td>Try</td> <td>完成所有业务检查（一致性），预留业务资源(准隔离性) 回顾上面航班预定案例的阶段1，机票就是业务资源，所有的资源提供者(航空公司)预留都成功，try阶段才算成功</td></tr> <tr><td>Confirm</td> <td>确认执行业务操作，不做任何业务检查， 只使用Try阶段预留的业务资源。回顾上面航班预定案例的阶段2，美团APP确认两个航空公司机票都预留成功，因此向两个航空公司分别发送确认购买的请求。</td></tr> <tr><td>Cancel</td> <td>取消Try阶段预留的业务资源。回顾上面航班预定案例的阶段2，如果某个业务方的业务资源没有预留成功，则取消所有业务资源预留请求。</td></tr></tbody></table> <p>有哥们立马会想到，TCC与XA两阶段提交有着异曲同工之妙，下图列出了二者之间的对比：</p> <p><img src="/code_heavy_industry/assets/img/wpsF263.tmp.844aa590.jpg" alt="img"></p> <p><strong>1) 在阶段1：</strong></p> <p>在XA中，各个RM准备提交各自的事务分支，事实上就是准备提交资源的更新操作(insert、delete、update等)；而在TCC中，是主业务活动请求(try)各个从业务服务预留资源。</p> <p><strong>2) 在阶段2：</strong></p> <p>XA根据第一阶段每个RM是否都prepare成功，判断是要提交还是回滚。如果都prepare成功，那么就commit每个事务分支，反之则rollback每个事务分支。</p> <p>TCC中，如果在第一阶段所有业务资源都预留成功，那么confirm各个从业务服务，否则取消(cancel)所有从业务服务的资源预留请求。</p> <h4 id="_2-2-2-tcc两阶段提交与xa两阶段提交的区别"><a href="#_2-2-2-tcc两阶段提交与xa两阶段提交的区别" class="header-anchor">#</a> 2.2.2 TCC两阶段提交与XA两阶段提交的区别</h4> <p>XA是资源层面（直接操作数据库）的分布式事务，强一致性，在两阶段提交的整个过程中，一直会持有资源的锁。</p> <p>XA事务中的两阶段提交内部过程是对开发者屏蔽的 ，其内部会委派给TransactionManager进行真正的两阶段提交，因此开发者从代码层面是感知不到这个过程的。而且事务管理器在两阶段提交过程中，从prepare到commit/rollback过程中，资源实际上一直都是被加锁的。如果有其他人需要更新这两条记录，那么就必须等待锁释放。</p> <p>TCC是业务层面（操作Java服务）的分布式事务，最终一致性，不会一直持有资源的锁。</p> <p>TCC中的两阶段提交并没有对开发者完全屏蔽，也就是说从代码层面，开发者是可以感受到两阶段提交的存在。如上述航班预定案例：在第一阶段，航空公司需要提供<strong>try接口</strong>(机票资源预留)。在第二阶段，航空公司提需要提供<strong>confirm/cancel接口</strong>(确认购买机票/取消预留)。开发者明显的感知到了两阶段提交过程的存在。try、confirm/cancel在执行过程中，一般都会开启各自的本地事务，来保证方法内部业务逻辑的ACID特性。其中：</p> <p>1、try过程的本地事务，是保证资源预留的业务逻辑的正确性。</p> <p>2、confirm/cancel执行的本地事务逻辑确认/取消预留资源，以保证最终一致性，也就是所谓的补偿型事务</p> <p>由于是多个独立的本地事务，因此不会对资源一直加锁。</p> <p>TCC 将事务提交分为 Try - Confirm - Cancel 3个操作。这和两阶段提交有点类似，Try为第一阶段，Confirm - Cancel为第二阶段，是一种应用层面侵入业务的两阶段提交。</p> <table><thead><tr><th><strong>操作方法</strong></th> <th>含义</th></tr></thead> <tbody><tr><td>Try</td> <td>预留业务资源/数据效验-尝试检查当前操作是否可行</td></tr> <tr><td>Confirm</td> <td>确认执行业务操作，实际提交数据，不做任何业务检查，try成功，confirm必定成功</td></tr> <tr><td>Cancel</td> <td>取消执行业务操作，实际回滚数据</td></tr></tbody></table> <p>其核心在于将业务分为两个操作步骤完成。不依赖 RM 对分布式事务的支持，而是通过对业务逻辑的分解来实现分布式事务。</p> <p><img src="/code_heavy_industry/assets/img/wpsF264.tmp.ea2f7bec.jpg" alt="img"></p> <p>例如： A要向 B 转账，思路大概是：</p> <p>假设用户user表中有两个字段：可用余额(available_money)、冻结余额(frozen_money) A扣钱对应服务A(ServiceA) B加钱对应服务B(ServiceB) 转账订单服务(OrderService) 业务转账方法服务(BusinessService)</p> <p>ServiceA，ServiceB，OrderService都需分别实现try()，confirm()，cancle()方法，方法对应业务逻辑如下</p> <p><img src="/code_heavy_industry/assets/img/wpsF265.tmp.08ceb6b7.jpg" alt="img"></p> <p>其中业务调用方BusinessService中就需要调用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ServiceA</span><span class="token punctuation">.</span><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">ServiceB</span><span class="token punctuation">.</span><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">OrderService</span><span class="token punctuation">.</span><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>1、当所有try()方法均执行成功时，对全局事务进行提交，即由事务管理器调用每个微服务的confirm()方法</p> <p>2、 当任意一个方法try()失败(预留资源不足，抑或网络异常，代码异常等任何异常)，由事物管理器调用每个微服务的cancle()方法对全局事务进行回滚</p> <p>优点： 跟2PC(很多第三方框架)比起来，实现以及流程相对简单了一些，但数据的一致性比2PC也要差一些</p> <p>缺点： 缺点还是比较明显的，在2,3步中都有可能失败。TCC属于应用层的一种补偿方式，所以需要程序员在实现的时候多写很多补偿的代码，在一些场景中，一些业务流程可能用TCC不太好定义及处理。</p> <h3 id="_3本地消息表-异步确保-事务最终一致性"><a href="#_3本地消息表-异步确保-事务最终一致性" class="header-anchor">#</a> ③本地消息表（异步确保）- 事务最终一致性</h3> <p>这种实现方式的思路，其实是源于 ebay，后来通过支付宝等公司的布道，在业内广泛使用。<strong>其基本的设计思想是将远程分布式事务拆分成一系列的本地事务</strong>。如果不考虑性能及设计优雅，借助关系型数据库中的表即可实现。</p> <p>举个经典的跨行转账的例子来描述。</p> <p>第一步伪代码如下，扣款 1W，通过本地事务保证了凭证消息插入到消息表中。</p> <p><img src="/code_heavy_industry/assets/img/wps5410.tmp.1d8c1c00.jpg" alt="img"></p> <p>第二步，通知对方银行账户加 1W。那问题来了，如何通知到对方呢？</p> <ul><li><p>通常采用两种方式：</p> <ul><li><ol><li>采用时效性高的 MQ，由对方订阅消息并监听，有消息时自动触发事件</li></ol></li> <li><ol start="2"><li>采用定时轮询扫描的方式，去检查消息表的数据</li></ol></li></ul></li> <li><p>两种方式其实各有利弊，仅仅依靠 MQ，可能会出现通知失败的问题。而过于频繁的定时轮询，效率也不是最佳的（90% 是无用功）。所以，我们一般会把两种方式结合起来使用。</p></li> <li><p>解决了通知的问题，又有新的问题了。万一这消息有重复被消费，往用户帐号上多加了钱，那岂不是后果很严重？</p></li> <li><p>仔细思考，其实我们可以在消息消费方，也通过一个“消费状态表”来记录消费状态。在执行“加款”操作之前，检测下该消息（提供标识）是否已经消费过，消费完成后，通过本地事务控制来更新这个“消费状态表”。这样子就避免重复消费的问题。</p></li> <li><p>总结：上述的方式是一种非常经典的实现，基本避免了分布式事务，实现了“最终一致性”。但是，关系型数据库的吞吐量和性能方面存在瓶颈，频繁的读写消息会给数据库造成压力。所以，在真正的高并发场景下，该方案也会有瓶颈和限制的。</p></li> <li><p>在订单系统新增一条消息表，将新增订单和新增消息放到一个事务里完成，然后通过轮询的方式去查询消息表，将消息推送到 MQ，库存系统去消费 MQ。</p></li></ul> <p><img src="/code_heavy_industry/assets/img/wps5411.tmp.1a417fb3.jpg" alt="img"></p> <ul><li><p>执行流程：</p> <ul><li>订单系统，添加一条订单和一条消息，在一个事务里提交。</li> <li>订单系统，使用定时任务轮询查询状态为未同步的消息表，发送到 MQ，如果发送失败，就重试发送。</li> <li>库存系统，接收 MQ 消息，修改库存表，需要保证幂等操作。</li> <li>如果修改成功，调用 RPC 接口修改订单系统消息表的状态为已完成或者直接删除这条消息。</li> <li>如果修改失败，可以不做处理，等待重试。</li> <li>订单系统中的消息有可能由于业务问题会一直重复发送，所以为了避免这种情况可以记录一下发送次数，当达到次数限制之后报警，人工接入处理；库存系统需要保证幂等，避免同一条消息被多次消费造成数据不一致。</li> <li>本地消息表这种方案实现了最终一致性，需要在业务系统里增加消息表，业务逻辑中多一次插入的 DB 操作，所以性能会有损耗，而且最终一致性的间隔主要由定时任务的间隔时间决定。</li></ul></li> <li><p>优点： 一种非常经典的实现，避免了分布式事务，实现了最终一致性。在 .NET中有现成的解决方案。</p></li> <li><p>缺点： 消息表会耦合到业务系统中，如果没有封装好的解决方案，会有很多杂活需要处理。</p></li></ul> <h3 id="_4mq-事务消息"><a href="#_4mq-事务消息" class="header-anchor">#</a> ④MQ 事务消息</h3> <p>有一些第三方的MQ是支持事务消息的，比如RocketMQ，他们支持事务消息的方式也是类似于采用的二阶段提交，但是市面上一些主流的MQ都是不支持事务消息的，比如 RabbitMQ 和 Kafka 都不支持，但是Rabbit MQ可以通过<span style="color:blue;font-weight:bold;">可靠消息投递</span>来实现事务消息。</p> <ul><li><p>RocketMQ</p> <p><img src="/code_heavy_industry/assets/img/rocketmq_design_10.4dfdf7d9.png" alt="img"></p></li> <li><p>Rabbit MQ</p> <p><img src="/code_heavy_industry/assets/img/image-20210927115442091.74f20e8e.png" alt="image-20210927115442091"></p></li></ul> <h3 id="_5方案选型"><a href="#_5方案选型" class="header-anchor">#</a> ⑤方案选型</h3> <ul><li><p>基于XA</p> <p>​	依赖于数据库底层XA支持，拿mysql数据库来说，innodb引擎支持XA协议，可以实现分布式事务。但是使用XA事务需要将事务<span style="color:blue;font-weight:bold;">隔离级别设置为串行</span>，这样整个数据库使用性能将下降严重。</p></li> <li><p>TCC</p> <p>业务代码侵入性高，需要提供try、commit、cancel多个接口业务实现。现有支持的开源框架有：ByteTCC、tcc-transaction、seata、tx-lcn等</p></li> <li><p>MQ</p> <p>非金融类业务首选MQ实现。MQ不能及时保障数据一致性，也是一种柔性事务(允许有数据有中间状态，可以保障经过一定时间后最终达到数据一致性)</p></li> <li><p>业务2PC</p> <p>XA协议是从资源层面的实现了2PC，如:seata、tx-lcn等是从业务层面实现了2PC。</p></li></ul> <p><strong>本课程我们使用的是seata作为我们的分布式事务解决方案。</strong></p> <h2 id="_3-seata简介"><a href="#_3-seata简介" class="header-anchor">#</a> 3. Seata简介</h2> <p>Seata是阿里开源的一个分布式事务框架，能够让大家在操作分布式事务时，像操作本地事务一样简单。一个注解搞定分布式事务。</p> <p>官网: https://seata.io/zh-cn/docs/overview/what-is-seata.html</p> <blockquote><p>Seata 是一款开源的分布式事务解决方案，致力于提供高性能和简单易用的分布式事务服务。Seata 为用户提供了 AT、TCC、SAGA 和 XA 事务模式，为用户打造一站式的分布式解决方案。</p></blockquote> <h4 id="at-模式"><a href="#at-模式" class="header-anchor">#</a> AT 模式</h4> <p><img src="/code_heavy_industry/assets/img/aaaaa.c278e4ed.jpg" alt="Typical Process"></p> <ul><li><p>TC (Transaction Coordinator) - 事务协调者</p> <p>​	维护全局和分支事务的状态，驱动全局事务提交或回滚。</p></li> <li><p>TM (Transaction Manager) - 事务管理器</p> <p>​	定义全局事务的范围：开始全局事务、提交或回滚全局事务。</p></li> <li><p>RM (Resource Manager) - 资源管理器</p> <p>​	管理分支事务处理的资源，与TC交谈以注册分支事务和报告分支事务的状态，并驱动分支事务提交或回滚。</p></li></ul> <h5 id="前提"><a href="#前提" class="header-anchor">#</a> 前提</h5> <ul><li>基于支持本地 ACID 事务的关系型数据库。</li> <li>Java 应用，通过 JDBC 访问数据库。</li></ul> <h5 id="整体机制"><a href="#整体机制" class="header-anchor">#</a> 整体机制</h5> <p>两阶段提交协议的演变：</p> <ul><li>一阶段：业务数据和回滚日志记录在同一个本地事务中提交，释放本地锁和连接资源。</li> <li>二阶段：
<ul><li>提交异步化，非常快速地完成。</li> <li>回滚通过一阶段的回滚日志进行反向补偿。</li></ul></li></ul> <h5 id="写隔离"><a href="#写隔离" class="header-anchor">#</a> 写隔离</h5> <ul><li>一阶段本地事务提交前，需要确保先拿到 <strong>全局锁</strong> 。</li> <li>拿不到 <strong>全局锁</strong> ，不能提交本地事务。</li> <li>拿 <strong>全局锁</strong> 的尝试被限制在一定范围内，超出范围将放弃，并回滚本地事务，释放本地锁。</li></ul> <p>以一个示例来说明：</p> <p>两个全局事务 tx1 和 tx2，分别对 a 表的 m 字段进行更新操作，m 的初始值 1000。</p> <p>tx1 先开始，开启本地事务，拿到本地锁，更新操作 m = 1000 - 100 = 900。本地事务提交前，先拿到该记录的 <strong>全局锁</strong> ，本地提交释放本地锁。 tx2 后开始，开启本地事务，拿到本地锁，更新操作 m = 900 - 100 = 800。本地事务提交前，尝试拿该记录的 <strong>全局锁</strong> ，tx1 全局提交前，该记录的全局锁被 tx1 持有，tx2 需要重试等待 <strong>全局锁</strong> 。</p> <p><img src="data:image/png;base64,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" alt="Write-Isolation: Commit"></p> <p>tx1 二阶段全局提交，释放 <strong>全局锁</strong> 。tx2 拿到 <strong>全局锁</strong> 提交本地事务。</p> <p><img src="https://img.alicdn.com/tfs/TB1xW0UwubviK0jSZFNXXaApXXa-718-521.png" alt="Write-Isolation: Rollback"></p> <p>如果 tx1 的二阶段全局回滚，则 tx1 需要重新获取该数据的本地锁，进行反向补偿的更新操作，实现分支的回滚。</p> <p>此时，如果 tx2 仍在等待该数据的 <strong>全局锁</strong>，同时持有本地锁，则 tx1 的分支回滚会失败。分支的回滚会一直重试，直到 tx2 的 <strong>全局锁</strong> 等锁超时，放弃 <strong>全局锁</strong> 并回滚本地事务释放本地锁，tx1 的分支回滚最终成功。</p> <p>因为整个过程 <strong>全局锁</strong> 在 tx1 结束前一直是被 tx1 持有的，所以不会发生 <strong>脏写</strong> 的问题。</p> <h5 id="读隔离"><a href="#读隔离" class="header-anchor">#</a> 读隔离</h5> <p>在数据库本地事务隔离级别 <strong>读已提交（Read Committed）</strong> 或以上的基础上，Seata（AT 模式）的默认全局隔离级别是 <strong>读未提交（Read Uncommitted）</strong> 。</p> <p>如果应用在特定场景下，必需要求全局的 <strong>读已提交</strong> ，目前 Seata 的方式是通过 SELECT FOR UPDATE 语句的代理。</p> <p><img src="https://img.alicdn.com/tfs/TB138wuwYj1gK0jSZFuXXcrHpXa-724-521.png" alt="Read Isolation: SELECT FOR UPDATE"></p> <p>SELECT FOR UPDATE 语句的执行会申请 <strong>全局锁</strong> ，如果 <strong>全局锁</strong> 被其他事务持有，则释放本地锁（回滚 SELECT FOR UPDATE 语句的本地执行）并重试。这个过程中，查询是被 block 住的，直到 <strong>全局锁</strong> 拿到，即读取的相关数据是 <strong>已提交</strong> 的，才返回。</p> <p>出于总体性能上的考虑，Seata 目前的方案并没有对所有 SELECT 语句都进行代理，仅针对 FOR UPDATE 的 SELECT 语句。</p> <h5 id="工作机制"><a href="#工作机制" class="header-anchor">#</a> 工作机制</h5> <p>以一个示例来说明整个 AT 分支的工作过程。</p> <p>业务表：<code>product</code></p> <table><thead><tr><th>Field</th> <th>Type</th> <th>Key</th></tr></thead> <tbody><tr><td>id</td> <td>bigint(20)</td> <td>PRI</td></tr> <tr><td>name</td> <td>varchar(100)</td> <td></td></tr> <tr><td>since</td> <td>varchar(100)</td> <td></td></tr></tbody></table> <p>AT 分支事务的业务逻辑：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> product <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'GTS'</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'TXC'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="一阶段"><a href="#一阶段" class="header-anchor">#</a> 一阶段</h6> <p>过程：</p> <ol><li>解析 SQL：得到 SQL 的类型（UPDATE），表（product），条件（where name = 'TXC'）等相关的信息。</li> <li>查询更新前数据的镜像（下面称：前镜像）：根据解析得到的条件信息，生成查询语句，定位数据。</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> since <span class="token keyword">from</span> product <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'TXC'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>得到前镜像：</p> <table><thead><tr><th>id</th> <th>name</th> <th>since</th></tr></thead> <tbody><tr><td>1</td> <td>TXC</td> <td>2014</td></tr></tbody></table> <ol><li>执行业务 SQL：更新这条记录的 name 为 'GTS'。</li> <li>查询更新后数据的镜像（下面称：后镜像）：根据前镜像的结果，通过 <strong>主键</strong> 定位数据。</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> since <span class="token keyword">from</span> product <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>得到后镜像：</p> <table><thead><tr><th>id</th> <th>name</th> <th>since</th></tr></thead> <tbody><tr><td>1</td> <td>GTS</td> <td>2014</td></tr></tbody></table> <ol><li>插入回滚日志：把前后镜像数据以及业务 SQL 相关的信息组成一条回滚日志记录，插入到 <code>UNDO_LOG</code> 表中。</li></ol> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;branchId&quot;</span><span class="token operator">:</span> <span class="token number">641789253</span><span class="token punctuation">,</span>
	<span class="token property">&quot;undoItems&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
		<span class="token property">&quot;afterImage&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
				<span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
					<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
					<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
					<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GTS&quot;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;since&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
					<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2014&quot;</span>
				<span class="token punctuation">}</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;tableName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;product&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;beforeImage&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;rows&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
				<span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
					<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
					<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
					<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TXC&quot;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;since&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
					<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2014&quot;</span>
				<span class="token punctuation">}</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;tableName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;product&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;sqlType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UPDATE&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;xid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xid:xxx&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><ol><li>提交前，向 TC 注册分支：申请 <code>product</code> 表中，主键值等于 1 的记录的 <strong>全局锁</strong> 。</li> <li>本地事务提交：业务数据的更新和前面步骤中生成的 UNDO LOG 一并提交。</li> <li>将本地事务提交的结果上报给 TC。</li></ol> <h6 id="二阶段-回滚"><a href="#二阶段-回滚" class="header-anchor">#</a> 二阶段-回滚</h6> <ol><li>收到 TC 的分支回滚请求，开启一个本地事务，执行如下操作。</li> <li>通过 XID 和 Branch ID 查找到相应的 UNDO LOG 记录。</li> <li>数据校验：拿 UNDO LOG 中的后镜与当前数据进行比较，如果有不同，说明数据被当前全局事务之外的动作做了修改。这种情况，需要根据配置策略来做处理，详细的说明在另外的文档中介绍。</li> <li>根据 UNDO LOG 中的前镜像和业务 SQL 的相关信息生成并执行回滚的语句：</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> product <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'TXC'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>提交本地事务。并把本地事务的执行结果（即分支事务回滚的结果）上报给 TC。</li></ol> <h6 id="二阶段-提交"><a href="#二阶段-提交" class="header-anchor">#</a> 二阶段-提交</h6> <ol><li>收到 TC 的分支提交请求，把请求放入一个异步任务的队列中，马上返回提交成功的结果给 TC。</li> <li>异步任务阶段的分支提交请求将异步和批量地删除相应 UNDO LOG 记录。</li></ol> <h5 id="附录"><a href="#附录" class="header-anchor">#</a> 附录</h5> <h6 id="回滚日志表"><a href="#回滚日志表" class="header-anchor">#</a> 回滚日志表</h6> <p>UNDO_LOG Table：不同数据库在类型上会略有差别。</p> <p>以 MySQL 为例：</p> <table><thead><tr><th>Field</th> <th>Type</th></tr></thead> <tbody><tr><td>branch_id</td> <td>bigint PK</td></tr> <tr><td>xid</td> <td>varchar(100)</td></tr> <tr><td>context</td> <td>varchar(128)</td></tr> <tr><td>rollback_info</td> <td>longblob</td></tr> <tr><td>log_status</td> <td>tinyint</td></tr> <tr><td>log_created</td> <td>datetime</td></tr> <tr><td>log_modified</td> <td>datetime</td></tr></tbody></table> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 注意此处0.7.0+ 增加字段 context</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>undo_log<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>branch_id<span class="token punctuation">`</span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>xid<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>context<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>rollback_info<span class="token punctuation">`</span> <span class="token keyword">longblob</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>log_status<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>log_created<span class="token punctuation">`</span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>log_modified<span class="token punctuation">`</span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token punctuation">`</span>ux_undo_log<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>xid<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>branch_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="tcc-模式"><a href="#tcc-模式" class="header-anchor">#</a> TCC 模式</h4> <p>回顾总览中的描述：一个分布式的全局事务，整体是 <strong>两阶段提交</strong> 的模型。全局事务是由若干分支事务组成的，分支事务要满足 <strong>两阶段提交</strong> 的模型要求，即需要每个分支事务都具备自己的：</p> <ul><li>一阶段 prepare 行为</li> <li>二阶段 commit 或 rollback 行为</li></ul> <p><img src="https://img.alicdn.com/tfs/TB14Kguw1H2gK0jSZJnXXaT1FXa-853-482.png" alt="Overview of a global transaction"></p> <p>根据两阶段行为模式的不同，我们将分支事务划分为 <strong>Automatic (Branch) Transaction Mode</strong> 和 <strong>Manual (Branch) Transaction Mode</strong>.</p> <p>AT 模式（<a href="https://seata.io/zh-cn/docs/overview/what-is-seata.html" target="_blank" rel="noopener noreferrer">参考链接 TBD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）基于 <strong>支持本地 ACID 事务</strong> 的 <strong>关系型数据库</strong>：</p> <ul><li>一阶段 prepare 行为：在本地事务中，一并提交业务数据更新和相应回滚日志记录。</li> <li>二阶段 commit 行为：马上成功结束，<strong>自动</strong> 异步批量清理回滚日志。</li> <li>二阶段 rollback 行为：通过回滚日志，<strong>自动</strong> 生成补偿操作，完成数据回滚。</li></ul> <p>相应的，TCC 模式，不依赖于底层数据资源的事务支持：</p> <ul><li>一阶段 prepare 行为：调用 <strong>自定义</strong> 的 prepare 逻辑。</li> <li>二阶段 commit 行为：调用 <strong>自定义</strong> 的 commit 逻辑。</li> <li>二阶段 rollback 行为：调用 <strong>自定义</strong> 的 rollback 逻辑。</li></ul> <p>所谓 TCC 模式，是指支持把 <strong>自定义</strong> 的分支事务纳入到全局事务的管理中。</p> <h2 id="_4、seata-综合案例"><a href="#_4、seata-综合案例" class="header-anchor">#</a> 4、Seata 综合案例</h2> <h3 id="_1准备业务功能"><a href="#_1准备业务功能" class="header-anchor">#</a> ①准备业务功能</h3> <h4 id="_1-解压已有maven工程"><a href="#_1-解压已有maven工程" class="header-anchor">#</a> [1]解压已有Maven工程</h4> <p>工程解压后的目录：Seata案例物料包\code\fescar-parent</p> <h4 id="_2-使用-idea-打开-fescar-parent"><a href="#_2-使用-idea-打开-fescar-parent" class="header-anchor">#</a> [2]使用 IDEA 打开 fescar-parent</h4> <p>请把 fescar-parent 放在一个非中文没有空格的目录</p> <h4 id="_3-启动-nacos-服务器"><a href="#_3-启动-nacos-服务器" class="header-anchor">#</a> [3]启动 Nacos 服务器</h4> <p>Seata案例物料包\tools\nacos\bin&gt;startup.cmd -m standalone</p> <h4 id="_4-在-fescar-parent-的各个模块工程中修改-nacos-地址"><a href="#_4-在-fescar-parent-的各个模块工程中修改-nacos-地址" class="header-anchor">#</a> [4]在 fescar-parent 的各个模块工程中修改 Nacos 地址</h4> <p><img src="data:image/png;base64,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" alt="images"></p> <h4 id="_5-数据库建模"><a href="#_5-数据库建模" class="header-anchor">#</a> [5]数据库建模</h4> <p>依次执行下列 SQL 文件：</p> <blockquote><p>Seata案例物料包\dbsql\fescar-business.sql<br></p> <p>Seata案例物料包\dbsql\fescar-item.sql<br></p> <p>Seata案例物料包\dbsql\fescar-order.sql<br></p> <p>Seata案例物料包\dbsql\fescar-user.sql<br></p></blockquote> <h4 id="_6-在-fescar-parent-的各个模块工程中修改数据库地址"><a href="#_6-在-fescar-parent-的各个模块工程中修改数据库地址" class="header-anchor">#</a> [6]在 fescar-parent 的各个模块工程中修改数据库地址</h4> <p><img src="data:image/png;base64,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" alt="images"></p> <h4 id="_7-在-user-微服务中有-10-0"><a href="#_7-在-user-微服务中有-10-0" class="header-anchor">#</a> [7]在 user 微服务中有 10 / 0</h4> <p>为了测试分布式事务情况，user 微服务中有 10 / 0 的代码。</p> <p>所在类是：com.atguigu.service.impl.UserInfoServiceImpl</p> <p>所在方法：decrMoney()</p> <p>初步测试的时候先注释掉。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>rollbackFor <span class="token operator">=</span> <span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">decrMoney</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token keyword">int</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">UserInfo</span> userInfo <span class="token operator">=</span> userInfoMapper<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    userInfo<span class="token punctuation">.</span><span class="token function">setMoney</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> userInfoMapper<span class="token punctuation">.</span><span class="token function">updateByPrimaryKeySelective</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;添加用户受影响行数：&quot;</span><span class="token operator">+</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// int q=10/0;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2整合-seata"><a href="#_2整合-seata" class="header-anchor">#</a> ②整合 Seata</h3></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/code_heavy_industry/assets/js/app.972bd0f0.js" defer></script><script src="/code_heavy_industry/assets/js/4.904e76b5.js" defer></script><script src="/code_heavy_industry/assets/js/8.e2571ee7.js" defer></script>
  </body>
</html>
